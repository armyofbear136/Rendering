{"version":3,"sources":["webpack:///webpack/bootstrap f3c399406e1b592f313c","webpack:///./~/babel-polyfill/~/core-js/modules/_export.js","webpack:///./~/babel-polyfill/~/core-js/modules/_an-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/_global.js","webpack:///./~/babel-polyfill/~/core-js/modules/_fails.js","webpack:///./~/babel-polyfill/~/core-js/modules/_is-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/_wks.js","webpack:///./~/babel-polyfill/~/core-js/modules/_descriptors.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-dp.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-length.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/_a-function.js","webpack:///./~/babel-polyfill/~/core-js/modules/_has.js","webpack:///./~/babel-polyfill/~/core-js/modules/_hide.js","webpack:///./~/babel-polyfill/~/core-js/modules/_redefine.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-html.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-gopd.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-gpo.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-iobject.js","webpack:///./~/babel-polyfill/~/core-js/modules/_cof.js","webpack:///./~/babel-polyfill/~/core-js/modules/_ctx.js","webpack:///./~/babel-polyfill/~/core-js/modules/_strict-method.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-methods.js","webpack:///./~/babel-polyfill/~/core-js/modules/_core.js","webpack:///./~/babel-polyfill/~/core-js/modules/_defined.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-sap.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-primitive.js","webpack:///./~/babel-polyfill/~/core-js/modules/_metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/_typed-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/_add-to-unscopables.js","webpack:///./~/babel-polyfill/~/core-js/modules/_meta.js","webpack:///./~/babel-polyfill/~/core-js/modules/_an-instance.js","webpack:///./~/babel-polyfill/~/core-js/modules/_for-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/_library.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-gopn.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/_property-desc.js","webpack:///./~/babel-polyfill/~/core-js/modules/_redefine-all.js","webpack:///./~/babel-polyfill/~/core-js/modules/_set-species.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-absolute-index.js","webpack:///./~/babel-polyfill/~/core-js/modules/_uid.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iterators.js","webpack:///./~/babel-polyfill/~/core-js/modules/_set-to-string-tag.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-trim.js","webpack:///./~/babel-polyfill/~/core-js/modules/_validate-collection.js","webpack:///./~/babel-polyfill/~/core-js/modules/_classof.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iobject.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-pie.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/_collection.js","webpack:///./~/babel-polyfill/~/core-js/modules/_fix-re-wks.js","webpack:///./~/babel-polyfill/~/core-js/modules/_flags.js","webpack:///./~/babel-polyfill/~/core-js/modules/_is-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/_is-regexp.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iter-detect.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-forced-pam.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-gops.js","webpack:///./~/babel-polyfill/~/core-js/modules/_set-collection-from.js","webpack:///./~/babel-polyfill/~/core-js/modules/_set-collection-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/_shared.js","webpack:///./~/babel-polyfill/~/core-js/modules/_species-constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/_typed.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-fill.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-species-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/_create-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/_dom-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/_enum-bug-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/_fails-is-regexp.js","webpack:///./~/babel-polyfill/~/core-js/modules/_html.js","webpack:///./~/babel-polyfill/~/core-js/modules/_inherit-if-required.js","webpack:///./~/babel-polyfill/~/core-js/modules/_is-array-iter.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iter-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iter-define.js","webpack:///./~/babel-polyfill/~/core-js/modules/_math-expm1.js","webpack:///./~/babel-polyfill/~/core-js/modules/_math-sign.js","webpack:///./~/babel-polyfill/~/core-js/modules/_microtask.js","webpack:///./~/babel-polyfill/~/core-js/modules/_new-promise-capability.js","webpack:///./~/babel-polyfill/~/core-js/modules/_set-proto.js","webpack:///./~/babel-polyfill/~/core-js/modules/_shared-key.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-at.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-context.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-repeat.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-ws.js","webpack:///./~/babel-polyfill/~/core-js/modules/_task.js","webpack:///./~/babel-polyfill/~/core-js/modules/_typed-buffer.js","webpack:///./~/babel-polyfill/~/core-js/modules/_wks-define.js","webpack:///./~/babel-polyfill/~/core-js/modules/core.get-iterator-method.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.iterator.js","webpack:///./~/babel-polyfill/~/core-js/modules/_a-number-value.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-copy-within.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-from-iterable.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-reduce.js","webpack:///./~/babel-polyfill/~/core-js/modules/_bind.js","webpack:///./~/babel-polyfill/~/core-js/modules/_collection-strong.js","webpack:///./~/babel-polyfill/~/core-js/modules/_collection-to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/_collection-weak.js","webpack:///./~/babel-polyfill/~/core-js/modules/_flatten-into-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/_ie8-dom-define.js","webpack:///./~/babel-polyfill/~/core-js/modules/_invoke.js","webpack:///./~/babel-polyfill/~/core-js/modules/_is-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iter-call.js","webpack:///./~/babel-polyfill/~/core-js/modules/_iter-step.js","webpack:///./~/babel-polyfill/~/core-js/modules/_math-fround.js","webpack:///./~/babel-polyfill/~/core-js/modules/_math-log1p.js","webpack:///./~/babel-polyfill/~/core-js/modules/_math-scale.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-assign.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-dps.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-gopn-ext.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-keys-internal.js","webpack:///./~/babel-polyfill/~/core-js/modules/_object-to-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/_own-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/_parse-float.js","webpack:///./~/babel-polyfill/~/core-js/modules/_parse-int.js","webpack:///./~/babel-polyfill/~/core-js/modules/_perform.js","webpack:///./~/babel-polyfill/~/core-js/modules/_promise-resolve.js","webpack:///./~/babel-polyfill/~/core-js/modules/_string-pad.js","webpack:///./~/babel-polyfill/~/core-js/modules/_to-index.js","webpack:///./~/babel-polyfill/~/core-js/modules/_wks-ext.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.map.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.flags.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.weak-map.js","webpack:///(webpack)/buildin/global.js","webpack:///./~/babel-polyfill/lib/index.js","webpack:///./public/app.js","webpack:///./~/babel-polyfill/~/core-js/fn/regexp/escape.js","webpack:///./~/babel-polyfill/~/core-js/modules/_array-species-constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/_date-to-iso-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/_date-to-primitive.js","webpack:///./~/babel-polyfill/~/core-js/modules/_enum-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/_replacer.js","webpack:///./~/babel-polyfill/~/core-js/modules/_same-value.js","webpack:///./~/babel-polyfill/~/core-js/modules/core.regexp.escape.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.copy-within.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.every.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.fill.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.filter.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.find-index.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.find.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.for-each.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.index-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.is-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.join.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.last-index-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.map.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.reduce-right.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.reduce.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.slice.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.some.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.sort.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.species.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.date.now.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.date.to-iso-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.date.to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.date.to-primitive.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.date.to-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.function.bind.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.function.has-instance.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.function.name.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.acosh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.asinh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.atanh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.cbrt.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.clz32.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.cosh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.expm1.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.fround.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.hypot.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.imul.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log10.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log1p.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log2.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.sign.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.sinh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.tanh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.trunc.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.epsilon.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-finite.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-nan.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.max-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.min-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.parse-float.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.parse-int.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.to-fixed.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.to-precision.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.assign.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.create.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.define-properties.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.define-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.freeze.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-names.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-extensible.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-frozen.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-sealed.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.prevent-extensions.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.seal.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.set-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.to-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.parse-float.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.parse-int.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.promise.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.apply.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.construct.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.define-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.delete-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.enumerate.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.has.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.is-extensible.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.own-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.match.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.replace.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.search.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.split.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.to-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.anchor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.big.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.blink.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.bold.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.code-point-at.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.ends-with.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.fixed.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.fontcolor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.fontsize.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.from-code-point.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.italics.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.iterator.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.link.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.raw.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.repeat.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.small.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.starts-with.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.strike.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.sub.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.sup.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.trim.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.symbol.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.array-buffer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.data-view.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.float32-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.float64-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.int16-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.int32-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.int8-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.uint16-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.uint32-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.uint8-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.weak-set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.array.flat-map.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.array.flatten.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.array.includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.asap.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.error.is-error.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.global.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.map.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.map.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.map.to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.clamp.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.deg-per-rad.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.degrees.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.fscale.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.iaddh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.imulh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.isubh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.rad-per-deg.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.radians.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.scale.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.signbit.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.math.umulh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.define-getter.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.define-setter.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.entries.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.lookup-getter.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.lookup-setter.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.values.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.observable.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.promise.finally.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.promise.try.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.define-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.delete-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.get-metadata-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.get-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.get-own-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.has-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.has-own-metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.reflect.metadata.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.set.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.set.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.set.to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.at.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.match-all.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.pad-end.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.pad-start.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.trim-left.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.trim-right.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.symbol.async-iterator.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.symbol.observable.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.system.global.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.weak-map.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.weak-map.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.weak-set.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.weak-set.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.dom.iterable.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.immediate.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.timers.js","webpack:///./~/babel-polyfill/~/core-js/shim.js","webpack:///./~/babel-polyfill/~/regenerator-runtime/runtime.js","webpack:///./~/three/build/three.module.js","webpack:///(webpack)/buildin/module.js"],"names":["global","require","core","hide","redefine","ctx","PROTOTYPE","$export","type","name","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","exports","expProto","key","own","out","exp","undefined","Function","call","U","W","R","module","isObject","it","TypeError","window","Math","self","__g","exec","e","store","uid","Symbol","USE_SYMBOL","$exports","Object","defineProperty","get","a","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","value","toInteger","min","defined","hasOwnProperty","createDesc","object","has","SRC","TO_STRING","$toString","TPL","split","inspectSource","val","safe","isFunction","join","String","prototype","toString","fails","quot","createHTML","string","tag","attribute","p1","replace","NAME","test","toLowerCase","length","pIE","toIObject","gOPD","getOwnPropertyDescriptor","toObject","IE_PROTO","ObjectProto","getPrototypeOf","constructor","IObject","slice","aFunction","fn","that","b","c","apply","arguments","method","arg","toLength","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","index","result","res","push","version","__e","KEY","ceil","floor","isNaN","valueOf","Map","shared","getOrCreateMetadataMap","targetKey","targetMetadata","set","keyMetadata","ordinaryHasOwnMetadata","MetadataKey","metadataMap","ordinaryGetOwnMetadata","ordinaryDefineOwnMetadata","MetadataValue","ordinaryOwnMetadataKeys","keys","forEach","_","toMetaKey","map","LIBRARY","$typed","$buffer","anInstance","propertyDesc","redefineAll","toIndex","toAbsoluteIndex","classof","isArrayIter","gOPN","getIterFn","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","RangeError","Uint8Array","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","ArrayProto","Array","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","offset","validate","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","from","aLen","mapfn","mapping","iterFn","i","step","iterator","next","done","$of","of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","start","every","fill","filter","find","predicate","findIndex","indexOf","searchElement","includes","separator","reverse","middle","some","comparefn","subarray","begin","end","$begin","byteOffset","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","$getDesc","$setDesc","desc","configurable","writable","enumerable","$TypedArrayPrototype$","wrapper","CLAMPED","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","getter","data","v","o","setter","round","addElement","$offset","$length","byteLength","klass","$len","l","iter","concat","$nativeIterator","CORRECT_ITER_NAME","$iterator","UNSCOPABLES","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","Constructor","forbiddenField","BREAK","RETURN","iterable","dPs","enumBugKeys","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","contentWindow","document","open","write","close","Properties","$keys","hiddenKeys","getOwnPropertyNames","bitmap","DESCRIPTORS","SPECIES","max","px","random","def","stat","spaces","space","non","ltrim","RegExp","rtrim","exporter","ALIAS","FORCE","trim","_t","cof","ARG","tryGet","T","callee","propertyIsEnumerable","IS_INCLUDES","el","fromIndex","forOf","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","ADDER","fixMethod","add","getConstructor","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","clear","setStrong","SYMBOL","fns","strfn","rxfn","ignoreCase","multiline","unicode","sticky","isArray","MATCH","isRegExp","SAFE_CLOSING","riter","skipClosing","arr","K","__defineSetter__","getOwnPropertySymbols","COLLECTION","mapFn","A","n","cb","nextItem","SHARED","D","Typed","TypedArrayConstructors","endPos","original","$defineProperty","is","createElement","re","documentElement","setPrototypeOf","descriptor","IteratorPrototype","$iterCreate","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","DEFAULT","IS_SET","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","$expm1","expm1","x","sign","macrotask","Observer","MutationObserver","WebKitMutationObserver","process","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","resolve","promise","then","task","PromiseCapability","reject","$$resolve","$$reject","check","buggy","__proto__","pos","s","charCodeAt","charAt","searchString","repeat","count","str","Infinity","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","event","args","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","DATA_VIEW","WRONG_INDEX","BaseBuffer","abs","pow","log","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","m","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","numIndex","intIndex","_b","pack","conversion","bufferLength","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBufferProto","j","$setInt8","wksExt","$Symbol","getIteratorMethod","addToUnscopables","iterated","_i","_k","Arguments","msg","to","inc","memo","isRight","factories","construct","bind","partArgs","bound","$iterDefine","SIZE","getEntry","entry","_f","k","_l","r","p","prev","toJSON","$has","uncaughtFrozenStore","UncaughtFrozenStore","findUncaughtFrozen","splice","ufstore","IS_CONCAT_SPREADABLE","flattenIntoArray","sourceLen","depth","mapper","thisArg","targetIndex","sourceIndex","element","spreadable","un","isInteger","isFinite","ret","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","log1p","scale","inLow","inHigh","outLow","outHigh","getKeys","gOPS","$assign","assign","getSymbols","isEnum","defineProperties","windowNames","getWindowNames","names","isEntries","Reflect","ownKeys","$parseFloat","parseFloat","$trim","$parseInt","parseInt","ws","hex","radix","newPromiseCapability","promiseCapability","maxLength","fillString","left","stringLength","fillStr","intMaxLength","fillLen","stringFiller","number","strong","MAP","flags","SET","Set","each","weak","WEAK_MAP","tmp","InternalMap","WeakMap","$WeakMap","freeze","g","eval","_babelPolyfill","Error","DEFINE_PROPERTY","define","padStart","padEnd","THREE","state","materials","init","generateView","setViewForCube","animate","scene","createScene","renderer","createRenderer","camera","createPCamera","innerWidth","innerHeight","loader","FontLoader","console","createFont","font","body","domElement","createLights","createMaterials","switchView","rotateCube","cube","rotation","y","position","z","setViewForLines","setViewForText","Scene","fov","aspect","near","fat","PerspectiveCamera","width","height","aa","WebGLRenderer","antialias","setSize","MeshPhongMaterial","color","flatShading","dirLight","DirectionalLight","normalize","pointLight","PointLight","createCube","geometry","BoxGeometry","material","MeshBasicMaterial","Mesh","createLines","LineBasicMaterial","Geometry","vertices","Vector3","Line","lines","lookAt","fontName","fontWeight","fontString","load","response","text","title","textData","size","curveSegments","bevelThickness","bevelSize","bevelEnabled","extrudeMaterial","createText","textGeo","TextGeometry","hover","computeBoundingBox","computeVertexNormals","triangleAreaHeuristics","faces","face","materialIndex","vertexNormals","va","vb","vc","GeometryUtils","triangleArea","copy","normal","centerOffset","boundingBox","textMesh1","PI","mirror","textMesh2","requestAnimationFrame","render","escape","getTime","Date","$toISOString","toISOString","lz","num","d","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","NUMBER","hint","symbols","regExp","replacer","part","$re","$every","$filter","$find","forced","$forEach","STRICT","createProperty","$indexOf","NEGATIVE_ZERO","$reduce","upTo","cloned","$some","$sort","pv","TO_PRIMITIVE","DateProto","INVALID_DATE","HAS_INSTANCE","FunctionProto","FProto","nameRE","match","sqrt","$acosh","acosh","Number","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","hypot","value1","value2","sum","larg","div","$imul","imul","UINT16","xn","yn","xl","yl","log10","LOG10E","log2","sinh","E","tanh","trunc","$Number","BROKEN_COF","TRIM","toNumber","argument","first","third","maxCode","digits","code","_isFinite","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","aNumberValue","$toFixed","toFixed","ERROR","ZERO","multiply","c2","divide","numToString","t","acc","x2","fractionDigits","$fails","$toPrecision","toPrecision","precision","$freeze","$getOwnPropertyDescriptor","$getPrototypeOf","$isExtensible","$isFrozen","isFrozen","$isSealed","isSealed","$preventExtensions","$seal","seal","microtask","newPromiseCapabilityModule","perform","promiseResolve","PROMISE","$Promise","empty","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_w","$resolve","executor","err","onFulfilled","onRejected","capability","all","remaining","$index","alreadyCalled","race","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","attributes","deleteProperty","Enumerate","enumerate","getProto","receiver","setProto","V","ownDesc","existingDescriptor","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","proxy","$match","regexp","REPLACE","$replace","searchValue","replaceValue","SEARCH","$search","search","SPLIT","$split","_split","$push","$SPLIT","LENGTH","LAST_INDEX","NPCG","limit","output","lastLastIndex","splitLimit","separatorCopy","separator2","lastIndex","lastLength","anchor","big","blink","bold","$at","codePointAt","context","ENDS_WITH","$endsWith","endsWith","endPosition","fixed","fontcolor","fontsize","fromCharCode","$fromCodePoint","fromCodePoint","INCLUDES","italics","point","link","url","raw","callSite","tpl","small","STARTS_WITH","$startsWith","startsWith","strike","sub","sup","wksDefine","enumKeys","_create","gOPNExt","$JSON","JSON","_stringify","stringify","HIDDEN","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","$replacer","$isView","isView","final","viewS","viewT","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint32Array","Uint8ClampedArray","WEAK_SET","WeakSet","arraySpeciesCreate","flatMap","flatten","depthArg","$includes","asap","isError","clamp","lower","upper","DEG_PER_RAD","RAD_PER_DEG","degrees","radians","fscale","iaddh","x0","x1","y0","y1","$x0","$x1","$y0","imulh","u","$u","$v","u0","v0","u1","v1","isubh","signbit","umulh","__defineGetter__","getOwnPropertyDescriptors","getDesc","__lookupGetter__","__lookupSetter__","$values","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","Observable","subscribe","observable","items","onFinally","metadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","ordinaryGetMetadata","hasOwn","getMetadata","getOwnMetadataKeys","getOwnMetadata","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","$metadata","decorator","at","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","rx","$pad","trimLeft","trimRight","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$task","navigator","MSIE","userAgent","time","boundArgs","setInterval","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","obj","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","mark","awrap","__await","AsyncIterator","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","pop","iteratorMethod","skipTempReset","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","nextKey","EventDispatcher","_listeners","listeners","hasEventListener","removeEventListener","listenerArray","dispatchEvent","array","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","_Math","DEG2RAD","RAD2DEG","generateUUID","chars","rnd","uuid","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","radToDeg","isPowerOfTwo","ceilPowerOfTwo","floorPowerOfTwo","Vector2","isVector2","setScalar","scalar","setX","setY","setComponent","getComponent","clone","warn","addVectors","addScalar","addScaledVector","subVectors","subScalar","multiplyScalar","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","lengthSq","manhattanLength","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v2","equals","fromArray","toArray","fromBufferAttribute","getX","getY","rotateAround","center","cos","sin","Matrix4","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","order","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","q","_x","_y","_z","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","eye","up","crossVectors","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","getZ","applyMatrix4","setXYZ","determinant","transpose","setPosition","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","detInv","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","axis","tx","ty","makeScale","makeShear","compose","quaternion","decompose","vector","matrix","sx","sy","sz","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","right","top","bottom","far","makeOrthographic","h","Quaternion","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","z0","w0","z1","w1","dir","sqrSin","tDir","onChangeCallback","setFromEuler","update","c1","c3","s1","s2","s3","setFromAxisAngle","halfAngle","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","EPS","vFrom","vTo","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","callback","isVector3","setZ","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","project","projectionMatrix","matrixWorld","unproject","transformDirection","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","angleTo","acos","dz","setFromSpherical","sinPhiRadius","phi","radius","setFromCylindrical","setFromMatrixPosition","setFromMatrixScale","Matrix3","isMatrix3","setFromMatrix4","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","cx","cy","rotate","translate","textureId","Texture","image","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","isTexture","isRootObject","textures","getDataURL","canvas","HTMLCanvasElement","createElementNS","getContext","ImageData","putImageData","drawImage","toDataURL","images","dispose","transformUv","uv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","WebGLRenderTargetCube","activeCubeFace","activeMipMapLevel","isWebGLRenderTargetCube","DataTexture","isDataTexture","CubeTexture","isCubeTexture","emptyTexture","emptyCubeTexture","UniformContainer","seq","arrayCacheF32","arrayCacheI32","mat4array","mat3array","nBlocks","blockSize","firstElem","allocTexUnits","allocTextureUnit","setValue1f","gl","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2fv","uniform2f","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4fv","uniform4f","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","unit","setTexture2D","setValueT6","setTextureCube","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","getSingularSetter","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","getPureArraySetter","SingleUniform","activeInfo","setValue","PureArrayUniform","StructuredUniform","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","program","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","setOptional","upload","needsUpdate","seqWithValue","ColorKeywords","Color","setRGB","isColor","setHex","setStyle","setHSL","hue2rgb","handleAlpha","components","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","getHex","getHexString","getHSL","optionalTarget","hsl","hue","saturation","lightness","delta","getStyle","offsetHSL","addColors","color1","color2","UniformsLib","diffuse","opacity","uvTransform","alphaMap","specularmap","specularMap","envmap","envMap","flipEnvMap","reflectivity","refractionRatio","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","gradientmap","gradientMap","fog","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","directionalLights","properties","direction","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","distance","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","points","UniformsUtils","merge","uniforms","merged","uniforms_src","uniforms_dst","parameter_src","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_template","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","ShaderChunk","ShaderLib","basic","vertexShader","fragmentShader","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","dashed","dashSize","totalSize","tCube","tFlip","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","clearCoat","clearCoatRoughness","Box2","setFromPoints","makeEmpty","il","expandByPoint","setFromCenterAndSize","halfSize","box","isEmpty","getCenter","getSize","expandByVector","expandByScalar","containsPoint","containsBox","getParameter","intersectsBox","clampPoint","distanceToPoint","clampedPoint","intersect","union","WebGLFlareRenderer","capabilities","vertexBuffer","elementBuffer","shader","tempTexture","occlusionTexture","createBuffer","bindBuffer","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","RGBA","createProgram","vertex","getAttribLocation","renderType","occlusionMap","screenPosition","flares","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPositionPixels","validArea","useProgram","initAttributes","enableAttribute","disableUnusedAttributes","vertexAttribPointer","FLOAT","disable","CULL_FACE","buffers","setMask","flare","matrixWorldInverse","activeTexture","TEXTURE0","TEXTURE1","copyTexImage2D","BLEND","enable","DEPTH_TEST","drawElements","TRIANGLES","UNSIGNED_SHORT","positionScreen","customUpdateCallback","updateLensFlares","jl","lensFlares","sprite","setBlending","blending","blendEquation","blendSrc","blendDst","createShader","FRAGMENT_SHADER","VERTEX_SHADER","prefix","shaderSource","compileShader","attachShader","linkProgram","CanvasTexture","WebGLSpriteRenderer","spritePosition","spriteRotation","spriteScale","uvOffset","uvScale","modelViewMatrix","fogType","fogDepth","alphaTest","fillStyle","fillRect","sprites","oldFogType","sceneFogType","isFog","isFogExp2","density","painterSortStable","visible","onBeforeRender","blendEquationAlpha","blendSrcAlpha","blendDstAlpha","premultipliedAlpha","setTest","depthTest","depthWrite","colorWrite","onAfterRender","renderOrder","materialId","Material","side","vertexColors","transparent","depthFunc","clippingPlanes","clipIntersection","clipShadows","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","overdraw","userData","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","emissiveIntensity","sizeAttenuation","linewidth","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","skinning","extractFromCache","cache","parse","srcPlanes","dstPlanes","MeshDepthMaterial","parameters","depthPacking","isMeshDepthMaterial","MeshDistanceMaterial","isMeshDistanceMaterial","Box3","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromObject","expandByObject","scope","traverse","isGeometry","isBufferGeometry","updateMatrixWorld","intersectsSphere","closestPoint","sphere","intersectsPlane","plane","constant","getBoundingSphere","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","denominator","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","normalMatrix","referencePoint","Frustum","p0","p2","p3","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","boundingSphere","computeBoundingSphere","intersectsSprite","negRadius","d1","d2","WebGLShadowMap","_renderer","_objects","maxTextureSize","_frustum","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_lightPositionWorld","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","cubeDirections","cubeUps","cube2DViewPorts","useMorphing","useSkinning","depthMaterial","distanceMaterial","enabled","autoUpdate","renderReverseSided","renderSingleSided","_gl","_state","setClear","setScissorTest","faceCount","light","isPointLight","shadowCamera","mapSize","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMap","shadowMatrix","setRenderTarget","vpDimensions","renderObject","getDepthMaterial","lightPositionWorld","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","morphAttributes","isSkinnedMesh","variantIndex","localClippingEnabled","keyA","keyB","materialsForVariant","cachedMaterial","layers","isMesh","isLine","isPoints","castShadow","frustumCulled","groups","kl","group","groupMaterial","renderBufferDirect","children","WebGLAttributes","bufferType","usage","dynamic","DYNAMIC_DRAW","onUploadCallback","SHORT","UNSIGNED_INT","INT","BYTE","bytesPerElement","updateBuffer","updateRange","bufferSubData","isInterleavedBufferAttribute","remove","deleteBuffer","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","object3DId","Object3D","DefaultUp","onRotationChange","onQuaternionChange","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","receiveShadow","isObject3D","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","isCamera","getObjectById","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","raycast","traverseVisible","traverseAncestors","updateMatrix","force","geometries","serialize","library","uuids","recursive","Camera","OrthographicCamera","zoom","isOrthographicCamera","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","zoomW","zoomH","scaleW","scaleH","Face3","geometryId","colors","faceVertexUvs","morphNormals","skinWeights","skinIndices","lineDistances","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","fromBufferGeometry","indices","positions","normals","uvs","uvs2","uv2","tempNormals","tempUVs","tempUVs2","addFace","computeFaceNormals","ab","fl","vA","vB","vC","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","computeLineDistances","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","hash","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","BufferAttribute","itemSize","normalized","isBufferAttribute","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","copyIndicesArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","arrayMax","bufferGeometryId","BufferGeometry","drawRange","getIndex","setIndex","addAttribute","getAttribute","removeAttribute","addGroup","clearGroups","setDrawRange","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","TypeArray","pA","pB","pC","normalizeNormals","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","toNonIndexed","geometry2","array2","morphAttribute","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","combine","isMeshBasicMaterial","ShaderMaterial","defines","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","isShaderMaterial","Ray","origin","ray","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","Line3","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","startEnd_startP","Triangle","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","setFromPointsAndIndices","i0","i1","i2","triangle","area","midpoint","edgeList","projectedPoint","minDistance","drawMode","updateMorphTargets","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","inverseMatrix","tempA","tempB","tempC","uvA","uvB","uvC","barycoord","intersectionPoint","intersectionPointWorld","uvIntersection","uv1","uv3","checkIntersection","raycaster","checkBufferGeometryIntersection","intersection","faceIndex","intersects","fvA","fvB","fvC","isMultiMaterial","faceMaterial","morphInfluences","tl","influence","targets","uvs_f","WebGLBackground","clearColor","clearAlpha","planeCamera","planeMesh","boxMesh","renderList","forceClear","background","autoClear","autoClearColor","autoClearDepth","autoClearStencil","getClearColor","setClearColor","getClearAlpha","setClearAlpha","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","renderItem","WebGLRenderLists","lists","absNumericalSort","WebGLMorphtargets","influencesList","objectInfluences","influences","getUniforms","WebGLIndexedBufferRenderer","infoRender","mode","setMode","calls","POINTS","renderInstances","extension","drawElementsInstancedANGLE","maxInstancedCount","WebGLBufferRenderer","drawArrays","drawArraysInstancedANGLE","WebGLGeometries","infoMemory","wireframeAttributes","onGeometryDispose","buffergeometry","_bufferGeometry","geometryAttributes","getWireframeAttribute","geometryIndex","UniformsCache","halfWidth","halfHeight","WebGLLights","ambient","directional","spot","rectArea","hemi","vector3","matrix42","setup","shadows","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","viewMatrix","intensity","isAmbientLight","isDirectionalLight","bias","isSpotLight","penumbra","isRectAreaLight","isHemisphereLight","WebGLObjects","updateList","frame","addLineNumbers","WebGLShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","logarithmicDepthBuffer","filterEmptyLine","generateDefines","fetchAttributeLocations","ACTIVE_ATTRIBUTES","getActiveAttrib","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","parseIncludes","pattern","include","unrollLoops","snippet","unroll","WebGLProgram","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","prefixVertex","prefixFragment","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","useVertexTexture","doubleSided","flipSided","numClippingPlanes","shadowMapEnabled","numClipIntersection","physicallyCorrectLights","outputEncoding","mapEncoding","envMapEncoding","emissiveMapEncoding","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","bindAttribLocation","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","programs","shaderIDs","MeshNormalMaterial","MeshLambertMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","parameterNames","allocateBones","skeleton","bones","floatVertexTextures","nVertexUniforms","maxVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","nClipPlanes","nClipIntersection","shaderID","getMaxPrecision","currentRenderTarget","getRenderTarget","vertexTextures","gammaOutput","gammaInput","envMapMode","maxMorphTargets","maxMorphNormals","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","WebGLTextures","utils","_isWebGL2","WebGL2RenderingContext","clampToMaxSize","maxSize","makePowerOfTwo","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","filterFallback","LINEAR","onTextureDispose","deallocateTexture","onRenderTargetDispose","renderTarget","deallocateRenderTarget","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","slot","__version","uploadTexture","TEXTURE_CUBE_MAP","pixelStorei","UNPACK_FLIP_Y_WEBGL","isCompressed","isCompressedTexture","cubeImage","maxCubemapSize","isPowerOfTwoImage","glFormat","convert","glType","setTextureParameters","TEXTURE_CUBE_MAP_POSITIVE_X","mipmap","getCompressedTextureFormats","compressedTexImage2D","generateMipmap","setTextureCubeDynamic","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","isDepthTexture","internalFormat","DEPTH_COMPONENT","DEPTH_COMPONENT32F","DEPTH_COMPONENT16","DEPTH_STENCIL","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","RGBA4","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isTargetPowerOfTwo","createFramebuffer","COLOR_ATTACHMENT0","updateRenderTargetMipmap","webglTexture","WebGLProperties","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","colorBuffer","maxVertexAttributes","MAX_VERTEX_ATTRIBS","newAttributes","enabledAttributes","attributeDivisors","compressedTextureFormats","currentProgram","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","maxTextures","MAX_COMBINED_TEXTURE_IMAGE_UNITS","VERSION","lineWidthAvailable","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","emptyTextures","setFlipSided","setCullFace","enableVertexAttribArray","vertexAttribDivisorANGLE","enableAttributeAndDivisor","meshPerAttribute","disableVertexAttribArray","formats","COMPRESSED_TEXTURE_FORMATS","blendEquationSeparate","FUNC_ADD","blendFuncSeparate","ONE","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","SRC_COLOR","setMaterial","setPolygonOffset","frontFace","CW","CCW","cullFace","BACK","FRONT","FRONT_AND_BACK","setLineWidth","lineWidth","factor","POLYGON_OFFSET_FILL","SCISSOR_TEST","webglSlot","webglType","boundTexture","WebGLCapabilities","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getShaderPrecisionFormat","HIGH_FLOAT","MEDIUM_FLOAT","maxPrecision","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","floatFragmentTextures","focus","filmGauge","filmOffset","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","skew","ArrayCamera","cameras","isArrayCamera","WebVRManager","device","frameData","VRFrameData","standingMatrix","standingMatrixInverse","cameraL","bounds","cameraR","cameraVR","currentSize","currentPixelRatio","onVRDisplayPresentChange","isPresenting","eyeParameters","getEyeParameters","renderWidth","renderHeight","getPixelRatio","setDrawingBufferSize","standing","getDevice","setDevice","getCamera","depthNear","depthFar","getFrameData","pose","orientation","stageParameters","sittingToStandingTransform","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","WebGLExtensions","getExtension","WebGLClipping","globalState","numGlobalPlanes","renderingShadows","viewNormalMatrix","uniform","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","i4","WebGLUtils","REPEAT","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","HALF_FLOAT_OES","ALPHA","LUMINANCE","LUMINANCE_ALPHA","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","_canvas","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","lightsArray","shadowsArray","currentRenderList","spritesArray","flaresArray","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_usedTextureUnits","_width","_height","_pixelRatio","_viewport","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_vector3","_infoMemory","_infoRender","memory","getTargetPixelRatio","contextAttributes","onContextLost","onContextRestore","objects","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","flareRenderer","spriteRenderer","initGLContext","vr","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","setScissor","boolean","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","clearTarget","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","isMeshPhongMaterial","isMeshStandardMaterial","isMeshNormalMaterial","normalArray","nx","ny","nz","uvArray","colorArray","setProgram","geometryProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","LINES","TRIANGLE_STRIP","TRIANGLE_FAN","isLineSegments","isLineLoop","LINE_LOOP","LINE_STRIP","isInstancedBufferGeometry","startIndex","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","isLight","initMaterial","isAnimating","onAnimationFrame","loop","projectObject","opaqueObjects","transparentObjects","overrideMaterial","renderObjects","isSprite","isLensFlare","isImmediateRenderObject","camera2","materialProperties","programChange","numSupportedMorphTargets","numSupportedMorphNormals","lightsHash","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","refreshUniformsDepth","refreshUniformsDistance","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isShadowMaterial","ltcMat","LTC_MAT_TEXTURE","ltcMag","LTC_MAG_TEXTURE","uvScaleMap","setFaceCulling","frontFaceDirection","textureUnit","warned","setTexture","readRenderTargetPixels","restore","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","FogExp2","Fog","LensFlare","vecX","vecY","wantedRotation","SpriteMaterial","isSpriteMaterial","Sprite","intersectPoint","worldPosition","worldScale","guessSizeSq","LOD","levels","level","addLevel","getObjectForDistance","matrixPosition","Skeleton","boneInverses","calculateInverses","bone","isBone","offsetMatrix","identityMatrix","Bone","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","initBones","normalizeSkinWeights","gbone","rotq","scl","sw","vec","skinWeight","linecap","linejoin","LineSegments","linePrecision","precisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","LineLoop","Points","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","distanceToRay","Group","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","DepthTexture","WireframeGeometry","ol","edge","edges","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","sliceCount","PolyhedronGeometry","detail","PolyhedronBufferGeometry","uvBuffer","subdivide","appplyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","generateBufferData","generateSegment","generateIndices","getPointAt","N","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","ShapeUtils","contour","triangulate","snip","verts","py","aX","aY","bX","bY","cX","cY","apx","apy","bpx","bpy","cpx","cpy","cCROSSap","bCROSScp","aCROSSbp","vertIndices","nv","triangulateShape","holes","removeDupEndPts","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","perpSeg1","perpSeg2","factorSeg1","seg1Pt","seg2Pt","seg1min","seg1max","seg1minVal","seg1maxVal","seg2min","seg2max","seg2minVal","seg2maxVal","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","removeHoles","shape","hole","isCutLineInsideAngles","inShapeIdx","inHoleIdx","lastShapeIdx","prevShapeIdx","nextShapeIdx","insideAngle","lastHoleIdx","prevHoleIdx","nextHoleIdx","intersectsShapeEdge","inShapePt","inHolePt","sIdx","nextIdx","indepHoles","intersectsHoleEdge","ihIdx","chkHole","hIdx","holeIndex","shapeIndex","shapePt","holePt","holeIdx","cutKey","failedCuts","tmpShape1","tmpShape2","tmpHole1","tmpHole2","hl","minShapeIndex","h2","allPointsMap","allpoints","shapeWithoutHoles","triangles","isClockWise","pts","ExtrudeGeometry","shapes","ExtrudeBufferGeometry","addShapeList","getArrays","positionAttribute","verticesArray","uvAttribute","IndexAttribute","indicesArray","sl","arrays","addShape","placeholder","amount","bevelSegments","steps","extrudePath","extrudePts","extrudeByPath","uvgen","UVGenerator","WorldUVGenerator","splineTube","binormal","position2","getSpacedPoints","ahole","shapePoints","extractPoints","scalePt2","pt","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextBufferGeometry","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","RawShaderMaterial","Materials","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","transform","DefaultLoadingManager","loading","FileLoader","manager","cached","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","responseType","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","callbacks","status","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setPath","setResponseType","setWithCredentials","setMimeType","CompressedTextureLoader","_parser","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","crossOrigin","substr","setCrossOrigin","CubeTextureLoader","urls","TextureLoader","isJPEG","Light","HemisphereLight","LightShadow","SpotLightShadow","SpotLight","power","DirectionalLightShadow","AmbientLight","RectAreaLight","AnimationUtils","isTypedArray","convertArray","forceClone","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrackPrototype","TimeBufferType","ValueBufferType","DefaultInterpolation","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","setInterpolation","interpolation","factoryMethod","message","ValueTypeName","createInterpolant","getInterpolation","shift","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","KeyframeTrackConstructor","VectorKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","NumberKeyframeTrack","StringKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","KeyframeTrack","json","trackType","_getTrackTypeForValueTypeName","track","typeName","AnimationClip","duration","tracks","resetDuration","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","parts","animationMorphTargets","clips","parseAnimation","animation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","MaterialLoader","setTextures","getTexture","shading","BufferGeometryLoader","typedArray","TYPED_ARRAYS","drawcalls","offsets","Loader","onLoadStart","onLoadProgress","onLoadComplete","Handlers","handlers","regex","extractUrlBase","initMaterials","texturePath","createMaterial","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","JSONLoader","setTexturePath","parseModel","isBitSet","fi","zLength","colorIndex","normalIndex","uvIndex","isQuad","faceA","faceB","uvLayer","nUvLayers","parseSkin","influencesPerVertex","parseMorphing","dstVertices","srcVertices","morphColors","parseAnimations","outputAnimations","morphAnimationClips","ObjectLoader","substring","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","details","loadImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","CatmullRom","t2","t3","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","Curve","arcLengthDivisions","getPoint","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","pt2","getTangentAt","mat","tz","LineCurve","isLineCurve","tangent","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","resolution","isEllipseCurve","isSplineCurve","EllipseCurve","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","SplineCurve","intPoint","weight","CubicBezierCurve","v3","isCubicBezierCurve","QuadraticBezierCurve","isQuadraticBezierCurve","PathPrototype","moveTo","lineTo","currentPoint","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","aRadius","absarc","absellipse","ellipse","firstPoint","lastPoint","Path","Shape","getPointsHoles","holesPts","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","createPaths","line_height","yMax","yMin","underlineThickness","paths","char","createPath","glyph","glyphs","cpx0","cpy0","cpx1","cpy1","cpx2","cpy2","laste","outline","_cachedOutline","action","ha","AudioContext","webkitAudioContext","setContext","AudioLoader","decodeAudioData","audioBuffer","StereoCamera","eyeSep","eyeRight","eyeLeft","eyeSepOnProjection","ymax","xmin","xmax","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","AudioListener","gain","createGain","connect","destination","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","positionX","setValueAtTime","currentTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setBuffer","play","createBufferSource","onended","onEnded","pause","getFilters","setFilters","setPlaybackRate","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","PositionalAudio","panner","createPanner","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","directoryRe","nodeRe","objectRe","propertyRe","trackRe","supportedObjectNames","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchSkeleton","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","_setEndings","handle_stop","pingPong","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedBufferGeometry","InterleavedBufferAttribute","interleavedBuffer","InterleavedBuffer","isInterleavedBuffer","InstancedInterleavedBuffer","InstancedBufferAttribute","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Clock","autoStart","oldTime","elapsedTime","running","performance","getElapsedTime","getDelta","newTime","Spherical","other","makeSafe","vec3","Cylindrical","ImmediateRenderObject","VertexNormalsHelper","nNormals","objGeometry","objPos","objNorm","SpotLightHelper","cone","coneLength","coneWidth","getBoneList","boneList","SkeletonHelper","boneMatrix","matrixWorldInv","PointLightHelper","sphereSize","RectAreaLightHelper","hx","hy","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","BoxHelper","Box3Helper","PlaneHelper","positions2","lineGeometry","coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","CubicBezierCurve3","isCubicBezierCurve3","QuadraticBezierCurve3","isQuadraticBezierCurve3","LineCurve3","isLineCurve3","ArcCurve","isArcCurve","SceneUtils","createMultiMaterialObject","detach","attach","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","XHRLoader","BinaryTextureLoader","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","eulerOrder","useQuaternion","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","addIndex","addDrawCall","clearDrawCalls","computeOffsets","wrapAround","wrapRGB","metal","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapCullFace","audioLoader","getData","updateCubeMap","geometry1","ImageUtils","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","Projector","projectVector","unprojectVector","pickingRay","CanvasRenderer","CubeGeometry","webpackPolyfill","deprecate"],"mappings":"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,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,EAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,GAAR;AACA,mBAAAA,CAAQ,G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a+a,a,CAAAA,a,SAAeq5C,Y,CAAAA,Y,SAAc93D,O,CAAAA,O,SAAS6vE,uB,CAAAA,uB,SAAyBO,iB,CAAAA,iB,SAAmBM,iB,CAAAA,iB,SAAmBE,a,CAAAA,a,SAAeqP,Y,CAAAA,Y,SAAcvF,c,CAAAA,c,SAAgBI,oB,CAAAA,oB,SAAsB/M,qB,CAAAA,qB,SAAuBf,c,CAAAA,c,SAAgB0R,U,CAAAA,U,SAAYpO,W,CAAAA,W,SAAaj0G,U,CAAAA,U,SAAY4xG,U,CAAAA,U,SAAYkN,M,CAAAA,M,SAAQtO,K,CAAAA,K,SAAOme,W,CAAAA,W,SAAa/Z,e,CAAAA,e,SAAiBC,S,CAAAA,S,SAAWzyG,U,CAAAA,U,SAAY6yG,a,CAAAA,a,SAAeP,e,CAAAA,e,SAAiBK,sB,CAAAA,sB,SAAwB9yG,gB,CAAAA,gB,SAAkB+yG,Y,CAAAA,Y,SAAcL,W,CAAAA,W,SAAaF,K,CAAAA,K,SAAOqa,Y,CAAAA,Y,SAAcxtH,iB,CAAAA,iB,SAAmB6zD,kB,CAAAA,kB,SAAoBm6D,U,CAAAA,U,SAAYxqC,W,CAAAA,W,SAAa5vB,M,CAAAA,M,SAAQ46D,a,CAAAA,a,SAAegD,e,CAAAA,e,SAAiBtE,Y,CAAAA,Y,SAAcqF,a,CAAAA,a,SAAevC,K,CAAAA,K,SAAOlW,mB,CAAAA,mB,SAAqBI,mB,CAAAA,mB,SAAqBF,uB,CAAAA,uB,SAAyBC,mB,CAAAA,mB,SAAqBG,kB,CAAAA,kB,SAAoBD,oB,CAAAA,oB,SAAsB6Y,a,CAAAA,a,SAAesB,e,CAAAA,e,SAAiBja,a,CAAAA,a,SAAezG,c,CAAAA,c,SAAgBilB,oB,CAAAA,oB,SAAsBgH,c,CAAAA,c,SAAgBllB,a,CAAAA,a,SAAe+oB,O,CAAAA,O,SAASC,uB,CAAAA,uB,SAAyB1mE,c,CAAAA,c,SAAgB17D,Q,CAAAA,Q,SAAUqiI,0B,CAAAA,0B,SAA4BI,0B,CAAAA,0B,SAA4BF,iB,CAAAA,iB,SAAmBG,wB,CAAAA,wB,SAA0BvvE,K,CAAAA,K,SAAO3D,Q,CAAAA,Q,SAAUmzE,S,CAAAA,S,SAAWtzE,M,CAAAA,M,SAAQlsC,e,CAAAA,e,SAAiB+/G,K,CAAAA,K,SAAO1qB,2B,CAAAA,2B,SAA6BzC,iB,CAAAA,iB,SAAmBK,mB,CAAAA,mB,SAAqB1B,gB,CAAAA,gB,SAAkBxB,W,CAAAA,W,SAAa9vC,Q,CAAAA,Q,SAAmB/wF,I,CAATs5C,K,SAAeg4G,S,CAAAA,S,SAAWI,W,CAAAA,W,SAAah+E,K,CAAAA,K,SAAOkB,O,CAAAA,O,SAASxB,M,CAAAA,M,SAAQqa,G,CAAAA,G,SAAKvvC,O,CAAAA,O,SAAS2P,O,CAAAA,O,SAAS+jB,I,CAAAA,I,SAAMhL,I,CAAAA,I,SAAM2pB,K,CAAAA,K,SAAOlU,K,CAAAA,K,SAAO1rB,O,CAAAA,O,SAAS9iC,O,CAAAA,O,SAASotB,O,CAAAA,O,SAASuM,U,CAAAA,U,SAAYmQ,K,CAAAA,K,SAAOg6F,qB,CAAAA,qB,SAAuBC,mB,CAAAA,mB,SAAqBK,e,CAAAA,e,SAAiBM,c,CAAAA,c,SAAgBG,gB,CAAAA,gB,SAAkBE,mB,CAAAA,mB,SAAqBG,qB,CAAAA,qB,SAAuBC,U,CAAAA,U,SAAYC,e,CAAAA,e,SAAiBG,iB,CAAAA,iB,SAAmBC,sB,CAAAA,sB,SAAwBG,Y,CAAAA,Y,SAAcU,S,CAAAA,S,SAAWC,U,CAAAA,U,SAAYC,W,CAAAA,W,SAAaI,W,CAAAA,W,SAAaK,U,CAAAA,U,SAAYY,gB,CAAAA,gB,SAAkBG,iB,CAAAA,iB,SAAmBE,qB,CAAAA,qB,SAAuBE,U,CAAAA,U,SAAYE,Q,CAAAA,Q,SAAUhjB,Y,CAAAA,Y,SAAcU,W,CAAAA,W,SAAaG,gB,CAAAA,gB,SAAkBG,oB,CAAAA,oB,SAAsBlC,S,CAAAA,S,SAAWyD,K,CAAAA,K,SAAOD,I,CAAAA,I,SAAMI,S,CAAAA,S,SAAWoC,I,CAAAA,I,SAAM7F,S,CAAAA,S,SAAW5B,K,CAAAA,K,SAAOzlB,U,CAAAA,U,SAAYsrC,U,CAAAA,U,SAAYniD,U,CAAAA,U,SAAYuS,iB,CAAAA,iB,SAAmBI,kB,CAAAA,kB,SAAoBI,wB,CAAAA,wB,SAA0BwB,mB,CAAAA,mB,SAAqBC,yB,CAAAA,yB,SAA2BC,kB,CAAAA,kB,SAAoBC,wB,CAAAA,wB,SAA0BC,mB,CAAAA,mB,SAAqBC,yB,CAAAA,yB,SAA2BC,oB,CAAAA,oB,SAAsBC,0B,CAAAA,0B,SAA4B5B,kB,CAAAA,kB,SAAoBE,wB,CAAAA,wB,SAA0B2B,Y,CAAAA,Y,SAAcM,kB,CAAAA,kB,SAAoBU,iB,CAAAA,iB,SAAmBG,uB,CAAAA,uB,SAAyBQ,a,CAAAA,a,SAAeE,mB,CAAAA,mB,SAAqB57F,Y,CAAAA,Y,SAAcwoG,kB,CAAAA,kB,SAAoBG,c,CAAAA,c,SAAgBK,oB,CAAAA,oB,SAAsBI,Y,CAAAA,Y,SAAcK,kB,CAAAA,kB,SAAoBpsC,a,CAAAA,a,SAAeC,mB,CAAAA,mB,SAAqBusC,a,CAAAA,a,SAAeE,mB,CAAAA,mB,SAAqBK,a,CAAAA,a,SAAeC,mB,CAAAA,mB,SAAqBzH,e,CAAAA,e,SAAiBE,qB,CAAAA,qB,SAAuB4H,a,CAAAA,a,SAAeoB,Y,CAAAA,Y,SAAcC,kB,CAAAA,kB,SAAoBf,gB,CAAAA,gB,SAAkBI,sB,CAAAA,sB,SAAwBY,c,CAAAA,c,SAAgBC,oB,CAAAA,oB,SAAsB7tG,W,CAAAA,W,SAAag+D,iB,CAAAA,iB,SAAmBkU,c,CAAAA,c,SAAgBqjB,c,CAAAA,c,SAAgBwY,iB,CAAAA,iB,SAAmBtuC,c,CAAAA,c,SAAgBwS,c,CAAAA,c,SAAgBF,oB,CAAAA,oB,SAAsBD,oB,CAAAA,oB,SAAsBxyE,iB,CAAAA,iB,SAAmBuyE,gB,CAAAA,gB,SAAkBF,kB,CAAAA,kB,SAAoBC,mB,CAAAA,mB,SAAqB3tB,iB,CAAAA,iB,SAAmBI,oB,CAAAA,oB,SAAsBnkD,iB,CAAAA,iB,SAAmB8xE,kB,CAAAA,kB,SAAoB3xE,iB,CAAAA,iB,SAAmByhD,Q,CAAAA,Q,SAAUoZ,sB,CAAAA,sB,SAAwBD,sB,CAAAA,sB,SAAwBD,qB,CAAAA,qB,SAAuBD,oB,CAAAA,oB,SAAsBD,qB,CAAAA,qB,SAAuBD,oB,CAAAA,oB,SAAsBD,2B,CAAAA,2B,SAA6BD,oB,CAAAA,oB,SAAsBD,mB,CAAAA,mB,SAAqBnB,e,CAAAA,e,SAAiBt1C,Q,CAAAA,Q,SAAUC,K,CAAAA,K,SAAOI,Y,CAAAA,Y,SAAcC,Y,CAAAA,Y,SAAcC,a,CAAAA,a,SAAeC,iB,CAAAA,iB,SAAmBC,oB,CAAAA,oB,SAAsBC,qB,CAAAA,qB,SAAuBC,c,CAAAA,c,SAAgBC,Y,CAAAA,Y,SAAcC,gB,CAAAA,gB,SAAkBC,S,CAAAA,S,SAAWC,Q,CAAAA,Q,SAAUC,U,CAAAA,U,SAAYC,W,CAAAA,W,SAAaC,a,CAAAA,a,SAAeC,Q,CAAAA,Q,SAAUC,U,CAAAA,U,SAAYC,Y,CAAAA,Y,SAAcC,U,CAAAA,U,SAAYC,c,CAAAA,c,SAAgBC,gB,CAAAA,gB,SAAkBC,mB,CAAAA,mB,SAAqBC,gB,CAAAA,gB,SAAkBC,c,CAAAA,c,SAAgBC,W,CAAAA,W,SAAaC,gB,CAAAA,gB,SAAkBC,uB,CAAAA,uB,SAAyBC,W,CAAAA,W,SAAaC,W,CAAAA,W,SAAaC,U,CAAAA,U,SAAYC,S,CAAAA,S,SAAWC,c,CAAAA,c,SAAgBC,sB,CAAAA,sB,SAAwBC,c,CAAAA,c,SAAgBC,sB,CAAAA,sB,SAAwBC,c,CAAAA,c,SAAgBC,sB,CAAAA,sB,SAAwBC,c,CAAAA,c,SAAgBC,sB,CAAAA,sB,SAAwBC,sB,CAAAA,sB,SAAwBC,U,CAAAA,U,SAAYC,W,CAAAA,W,SAAaC,S,CAAAA,S,SAAWC,c,CAAAA,c,SAAgBC,U,CAAAA,U,SAAYC,iB,CAAAA,iB,SAAmBC,Y,CAAAA,Y,SAAcC,a,CAAAA,a,SAAeC,iB,CAAAA,iB,SAAmBC,Y,CAAAA,Y,SAAcC,Y,CAAAA,Y,SAAcC,a,CAAAA,a,SAAeC,iB,CAAAA,iB,SAAmBC,mB,CAAAA,mB,SAAqBC,qB,CAAAA,qB,SAAuBC,iB,CAAAA,iB,SAAmBC,S,CAAAA,S,SAAWC,qB,CAAAA,qB,SAAuBC,qB,CAAAA,qB,SAAuBC,gC,CAAAA,gC,SAAkCC,gC,CAAAA,gC,SAAkCC,0B,CAAAA,0B,SAA4BC,uB,CAAAA,uB,SAAyBC,uB,CAAAA,uB,SAAyBC,c,CAAAA,c,SAAgBC,mB,CAAAA,mB,SAAqBC,sB,CAAAA,sB,SAAwBC,a,CAAAA,a,SAAeC,0B,CAAAA,0B,SAA4BC,yB,CAAAA,yB,SAA2BC,Y,CAAAA,Y,SAAcC,yB,CAAAA,yB,SAA2BC,wB,CAAAA,wB,SAA0BC,gB,CAAAA,gB,SAAkBC,Q,CAAAA,Q,SAAUC,S,CAAAA,S,SAAWC,iB,CAAAA,iB,SAAmBC,O,CAAAA,O,SAASC,e,CAAAA,e,SAAiBC,S,CAAAA,S,SAAWC,a,CAAAA,a,SAAeC,qB,CAAAA,qB,SAAuBC,qB,CAAAA,qB,SAAuBC,oB,CAAAA,oB,SAAsBC,kB,CAAAA,kB,SAAoBC,W,CAAAA,W,SAAaC,S,CAAAA,S,SAAWC,U,CAAAA,U,SAAYC,e,CAAAA,e,SAAiBC,oB,CAAAA,oB,SAAsBC,U,CAAAA,U,SAAYC,W,CAAAA,W,SAAaC,kB,CAAAA,kB,SAAoBC,oB,CAAAA,oB,SAAsBC,qB,CAAAA,qB,SAAuBC,qB,CAAAA,qB,SAAuBC,qB,CAAAA,qB,SAAuBC,uB,CAAAA,uB,SAAyBC,uB,CAAAA,uB,SAAyBC,wB,CAAAA,wB,SAA0BC,wB,CAAAA,wB,SAA0BC,e,CAAAA,e,SAAiBC,Q,CAAAA,Q,SAAUC,U,CAAAA,U,SAAYC,Y,CAAAA,Y,SAAcC,mB,CAAAA,mB,SAAqBC,iB,CAAAA,iB,SAAmBC,iB,CAAAA,iB,SAAmBC,mB,CAAAA,mB,SAAqBC,e,CAAAA,e,SAAiBC,gB,CAAAA,gB,SAAkBC,iB,CAAAA,iB,SAAmBC,qB,CAAAA,qB,SAAuBC,mB,CAAAA,mB,SAAqBC,c,CAAAA,c,SAAgBC,Y,CAAAA,Y,SAAcC,a,CAAAA,a,SAAeC,Y,CAAAA,Y,SAAcC,c,CAAAA,c,SAAgBC,a,CAAAA,a,SAAeC,c,CAAAA,c,SAAgBC,Y,CAAAA,Y,SAAcC,iB,CAAAA,iB,SAAmBC,gB,CAAAA,gB,SAAiC4kH,Y,CAAf5wI,W,SAA6BmpI,K,CAAAA,K,SAAOC,S,CAAAA,S,SAAWC,U,CAAAA,U,SAAYC,gB,CAAAA,gB,SAAkBC,a,CAAAA,a,SAAerG,U,CAAAA,U,SAAYsG,Q,CAAAA,Q,SAAUC,c,CAAAA,c,SAAgBC,kB,CAAAA,kB,SAAoBC,qB,CAAAA,qB,SAAuBC,sB,CAAAA,sB,SAAwBC,M,CAAAA,M,SAAQC,sB,CAAAA,sB,SAAwBC,a,CAAAA,a,SAAeC,c,CAAAA,c,SAAgBC,qB,CAAAA,qB,SAAuBC,c,CAAAA,c,SAAgBC,e,CAAAA,e,SAAiBC,c,CAAAA,c,SAAgBC,e,CAAAA,e,SAAiBC,gB,CAAAA,gB,SAAkBC,gB,CAAAA,gB,SAAkBK,kB,CAAAA,kB,SAAoBC,Y,CAAAA,Y,SAAcC,M,CAAAA,M,SAAQI,U,CAAAA,U,SAAYC,iB,CAAAA,iB,SAAmBC,W,CAAAA,W,SAAaE,e,CAAAA,e,SAAiBC,S,CAAAA,S,SAAWC,mB,CAAAA,mB,SAAqBhpI,a,CAAAA,a,SAAe2tI,U,CAAAA,U,SAAYI,S,CAAAA,S,SAAWI,c,CAAAA,c;;;;;;;;;AC9n3C3pMr+J,OAAOZ,OAAP,GAAiB,UAASY,MAAT,EAAiB;AACjC,KAAG,CAACA,OAAOu+J,eAAX,EAA4B;AAC3Bv+J,SAAOw+J,SAAP,GAAmB,YAAW,CAAE,CAAhC;AACAx+J,SAAO24I,KAAP,GAAe,EAAf;AACA;AACA,MAAG,CAAC34I,OAAOw7E,QAAX,EAAqBx7E,OAAOw7E,QAAP,GAAkB,EAAlB;AACrBz6E,SAAOC,cAAP,CAAsBhB,MAAtB,EAA8B,QAA9B,EAAwC;AACvCmQ,eAAY,IAD2B;AAEvClP,QAAK,eAAW;AACf,WAAOjB,OAAO2R,CAAd;AACA;AAJsC,GAAxC;AAMA5Q,SAAOC,cAAP,CAAsBhB,MAAtB,EAA8B,IAA9B,EAAoC;AACnCmQ,eAAY,IADuB;AAEnClP,QAAK,eAAW;AACf,WAAOjB,OAAOwN,CAAd;AACA;AAJkC,GAApC;AAMAxN,SAAOu+J,eAAP,GAAyB,CAAzB;AACA;AACD,QAAOv+J,MAAP;AACA,CArBD,C","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 329);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3c399406e1b592f313c","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_export.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_an-object.js","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_global.js","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_fails.js","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_is-object.js","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_wks.js","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_descriptors.js","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-dp.js","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-length.js","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-object.js","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_a-function.js","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_has.js","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_hide.js","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_redefine.js","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-html.js","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-gopd.js","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-gpo.js","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-iobject.js","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_cof.js","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_ctx.js","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_strict-method.js","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-methods.js","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_core.js","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_defined.js","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-sap.js","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-integer.js","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-primitive.js","var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_metadata.js","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_typed-array.js","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_add-to-unscopables.js","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_meta.js","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_an-instance.js","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_for-of.js","module.exports = false;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_library.js","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-create.js","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-gopn.js","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-keys.js","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_property-desc.js","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_redefine-all.js","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_set-species.js","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-absolute-index.js","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_uid.js","module.exports = {};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iterators.js","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_set-to-string-tag.js","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-trim.js","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_validate-collection.js","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_classof.js","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iobject.js","exports.f = {}.propertyIsEnumerable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-pie.js","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-includes.js","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_collection.js","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_fix-re-wks.js","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_flags.js","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_is-array.js","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_is-regexp.js","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iter-detect.js","'use strict';\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library') || !require('./_fails')(function () {\n  var K = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, K, function () { /* empty */ });\n  delete require('./_global')[K];\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-forced-pam.js","exports.f = Object.getOwnPropertySymbols;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-gops.js","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_set-collection-from.js","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_set-collection-of.js","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_shared.js","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_species-constructor.js","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_typed.js","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-fill.js","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-species-create.js","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_create-property.js","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_dom-create.js","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_enum-bug-keys.js","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_fails-is-regexp.js","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_html.js","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_inherit-if-required.js","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_is-array-iter.js","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iter-create.js","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iter-define.js","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_math-expm1.js","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_math-sign.js","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_microtask.js","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_new-promise-capability.js","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_set-proto.js","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_shared-key.js","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-at.js","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-context.js","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-repeat.js","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-ws.js","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_task.js","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_typed-buffer.js","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_wks-define.js","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/core.get-iterator-method.js","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.iterator.js","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_a-number-value.js","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-copy-within.js","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-from-iterable.js","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-reduce.js","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_bind.js","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_collection-strong.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_collection-to-json.js","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_collection-weak.js","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_flatten-into-array.js","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_ie8-dom-define.js","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_invoke.js","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_is-integer.js","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iter-call.js","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_iter-step.js","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_math-fround.js","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_math-log1p.js","// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0\n      // eslint-disable-next-line no-self-compare\n      || x != x\n      // eslint-disable-next-line no-self-compare\n      || inLow != inLow\n      // eslint-disable-next-line no-self-compare\n      || inHigh != inHigh\n      // eslint-disable-next-line no-self-compare\n      || outLow != outLow\n      // eslint-disable-next-line no-self-compare\n      || outHigh != outHigh\n  ) return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_math-scale.js","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-assign.js","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-dps.js","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-gopn-ext.js","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-keys-internal.js","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_object-to-array.js","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_own-keys.js","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_parse-float.js","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_parse-int.js","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_perform.js","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_promise-resolve.js","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_string-pad.js","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_to-index.js","exports.f = require('./_wks');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_wks-ext.js","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.map.js","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.flags.js","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.set.js","'use strict';\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar validate = require('./_validate-collection');\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar tmp = {};\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.weak-map.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/lib/index.js","import * as THREE from 'three';\n\n// const Detector = require('../tools/Detector');\n\n// if (Detector.webgl) {\n//   // Initiate function or other initializations here\n//   animate();\n// } else {\n//   const warning = Detector.getWebGLErrorMessage();\n//   document.getElementById('container').appendChild(warning);\n// }\n\nlet state = {\n  // scene,\n  // camera,\n  // renderer,\n  // cube,\n  // loader,\n  // title,\n  // lines,\n  materials: [],\n  view: 0\n}\n\nconst init = () => {\n  generateView();\n\n  setViewForCube();\n\n  animate();\n\n}\n\nconst generateView = async () => {\n\n  state.scene = createScene();\n  state.renderer = createRenderer(.9, .9, true);\n  state.camera = createPCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  state.loader = new THREE.FontLoader();\n  console.log(await createFont('helvetiker', 'bold'));\n  state.font = await createFont('helvetiker', 'bold');\n  console.log(\"THIS IS THE FONT\", state.font);\n\n\n\n\n  document.body.appendChild(state.renderer.domElement);\n\n  createLights();\n\n\n  state.materials = createMaterials();\n\n\n\n  document.addEventListener('mousedown', switchView, false);\n  document.addEventListener('keypress', rotateCube, false);\n  document.addEventListener('touchstart', rotateCube, false);\n  document.addEventListener('touchmove', rotateCube, false);\n  document.addEventListener('keydown', rotateCube, false);\n\n}\n\n\nconst rotateCube = () => {\n  state.cube.rotation.x += 0.1;\n  state.cube.rotation.y += 0.1;\n  state.camera.position.z++;\n}\n\nconst switchView = () => {\n  state.view++;\n  if (state.view > 2) state.view = 0;\n  if (state.view === 0) {\n    setViewForCube();\n  }\n  else if (state.view === 1) {\n    setViewForLines();\n  }\n  else if (state.view === 2) {\n    setViewForText();\n  }\n  createLights();\n}\n\nconst createScene = () => {\n  return new THREE.Scene();\n}\n\nconst createPCamera = (fov, aspect, near, fat) => {\n  return new THREE.PerspectiveCamera(fov, aspect, near, fat);\n}\n\n\n\nconst createRenderer = (width, height, aa) => {\n  let renderer = new THREE.WebGLRenderer({ antialias: aa });\n  renderer.setSize(window.innerWidth * width, window.innerHeight * height);\n  return renderer;\n}\n\nconst createMaterials = () => {\n  return [\n    new THREE.MeshPhongMaterial({ color: 0xffffff, flatShading: true }), // front\n    new THREE.MeshPhongMaterial({ color: 0xffffff }) // side\n  ];\n}\n\nconst createLights = () => {\n  const dirLight = new THREE.DirectionalLight(0xffffff, 0.125);\n\n  dirLight.position.set(0, 0, 1).normalize();\n\n  state.scene.add(dirLight);\n\n\n\n  const pointLight = new THREE.PointLight(0xffffff, 1.5);\n\n  pointLight.position.set(0, 100, 90);\n\n  state.scene.add(pointLight);\n}\n\n\nconst createCube = () => {\n  const geometry = new THREE.BoxGeometry(1, 1, 1);\n  const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n  return new THREE.Mesh(geometry, material);\n}\n\nconst setViewForCube = () => {\n  state.scene = new THREE.Scene();\n  state.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  state.cube = createCube();\n  state.scene.add(state.cube);\n  state.camera.position.z = 5;\n}\n\nconst createLines = () => {\n\n\n  const material = new THREE.LineBasicMaterial({ color: 0x0000ff });\n\n  const geometry = new THREE.Geometry();\n  geometry.vertices.push(new THREE.Vector3(-10, 0, 0));\n  geometry.vertices.push(new THREE.Vector3(0, 10, 0));\n  geometry.vertices.push(new THREE.Vector3(10, 0, 0));\n\n  return new THREE.Line(geometry, material);\n\n}\n\nconst setViewForLines = () => {\n  state.scene = createScene();\n\n  state.lines = createLines();\n  state.scene.add(state.lines);\n\n  state.camera = createPCamera(45, window.innerWidth / window.innerHeight, 1, 500);\n  state.camera.position.set(0, 0, 100);\n  state.camera.lookAt(new THREE.Vector3(0, 0, 0));\n}\n\nconst createFont = async (fontName, fontWeight) => {\n  const fontString = '../fonts/' + fontName + '_' + fontWeight + '.typeface.json'\n  console.log(\"FONT STRING\", fontString);\n  await state.loader.load(fontString, function (response) {\n    console.log(\"LOADER RESPONSE \", response);\n    state.font = response;\n    //return response;\n    // refreshText();\n  });\n}\n\nconst setViewForText = (text) => {\n  console.log(\"TITLE OBJECT: \", state.title, \"FONT OBJECT: \", state.font);\n  state.scene = createScene();\n\n\n  const textData = {\n    font: state.font,\n    size: 80,\n    height: 5,\n    curveSegments: 12,\n    bevelThickness: 10,\n    bevelSize: 8,\n    bevelEnabled: true,\n    material: 0,\n    extrudeMaterial: 1\n  }\n\n  state.title = createText(text, textData);\n  state.camera = createPCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  state.scene.add(state.title);\n  state.camera.position.z = 5;\n}\n\n\nconst createText = (text, textData) => {\n  let textGeo = new THREE.TextGeometry(text, textData);\n  const hover = 30;\n\n\n  textGeo.computeBoundingBox();\n\n  textGeo.computeVertexNormals();\n\n  // \"fix\" side normals by removing z-component of normals for side faces\n\n  // (this doesn't work well for beveled geometry as then we lose nice curvature around z-axis)\n\n  if (!textData.bevelEnabled) {\n    var triangleAreaHeuristics = 0.1 * (height * size);\n    for (var i = 0; i < textGeo.faces.length; i++) {\n      var face = textGeo.faces[i];\n      if (face.materialIndex == 1) {\n        for (var j = 0; j < face.vertexNormals.length; j++) {\n          face.vertexNormals[j].z = 0;\n          face.vertexNormals[j].normalize();\n        }\n        var va = textGeo.vertices[face.a];\n        var vb = textGeo.vertices[face.b];\n        var vc = textGeo.vertices[face.c];\n        var s = THREE.GeometryUtils.triangleArea(va, vb, vc);\n        if (s > triangleAreaHeuristics) {\n          for (var j = 0; j < face.vertexNormals.length; j++) {\n            face.vertexNormals[j].copy(face.normal);\n          }\n        }\n      }\n    }\n  }\n  var centerOffset = -0.5 * (textGeo.boundingBox.max.x - textGeo.boundingBox.min.x);\n  let textMesh1 = new THREE.Mesh(textGeo, state.materials);\n  textMesh1.position.x = centerOffset;\n  textMesh1.position.y = hover;\n  textMesh1.position.z = 0;\n  textMesh1.rotation.x = 0;\n  textMesh1.rotation.y = Math.PI * 2;\n\n  return textMesh1;\n\n  if (mirror) {\n    let textMesh2 = new THREE.Mesh(textGeo, state.materials);\n    textMesh2.position.x = centerOffset;\n    textMesh2.position.y = -hover;\n    textMesh2.position.z = height;\n    textMesh2.rotation.x = Math.PI;\n    textMesh2.rotation.y = Math.PI * 2;\n    return textMesh2;\n  }\n}\n\n\n\n// const createText = (text) => {\n//   let textGeo;\n//   state.loader.load('../fonts/helvetiker_regular.typeface.json', function (font) {\n\n//     textGeo = new THREE.TextGeometry(`${text}`, {\n//       font: font,\n//       size: 80,\n//       height: 5,\n//       curveSegments: 12,\n//       bevelEnabled: true,\n//       bevelThickness: 10,\n//       bevelSize: 8,\n//       bevelSegments: 5\n//     });\n//   });\n//   console.log(\"created text geometry\", textGeo);\n//   return textGeo;\n// }\n\n\n//SPINNING CUBE \n\nconst animate = () => {\n  requestAnimationFrame(animate);\n\n  // cube.rotation.x += 0.1;\n  // cube.rotation.y += 0.1;\n\n  state.renderer.render(state.scene, state.camera);\n}\n\n\ninit();\n\n\n\n\n\n\n\n\n\n// document.addEventListener('mousedown', onDocumentMouseDown, false);\n// document.addEventListener('keypress', onDocumentKeyPress, false);\n// document.addEventListener('touchstart', onDocumentTouchStart, false);\n\n// document.addEventListener('touchmove', onDocumentTouchMove, false);\n\n\n// document.addEventListener('keydown', onDocumentKeyDown, false);\n\n\n// function onDocumentMouseDown() {\n//   cube.rotation.x += 0.1;\n//   cube.rotation.y += 0.1;\n// }\n\n\n// function onDocumentKeyPress() {\n//   cube.rotation.x += 0.1;\n//   cube.rotation.y += 0.1;\n// }\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./public/app.js","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/fn/regexp/escape.js","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_array-species-constructor.js","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_date-to-iso-string.js","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_date-to-primitive.js","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_enum-keys.js","module.exports = function (regExp, replace) {\n  var replacer = replace === Object(replace) ? function (part) {\n    return replace[part];\n  } : replace;\n  return function (it) {\n    return String(it).replace(regExp, replacer);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_replacer.js","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/_same-value.js","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export');\nvar $re = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/core.regexp.escape.js","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.copy-within.js","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.every.js","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.fill.js","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.filter.js","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.find-index.js","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.find.js","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.for-each.js","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.from.js","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.index-of.js","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.is-array.js","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.join.js","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.last-index-of.js","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.map.js","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.of.js","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.reduce-right.js","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.reduce.js","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.slice.js","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.some.js","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.sort.js","require('./_set-species')('Array');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.array.species.js","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.date.now.js","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.date.to-iso-string.js","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.date.to-json.js","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.date.to-primitive.js","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.date.to-string.js","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.function.bind.js","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.function.has-instance.js","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.function.name.js","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.acosh.js","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.asinh.js","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.atanh.js","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.cbrt.js","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.clz32.js","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.cosh.js","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.expm1.js","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.fround.js","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.hypot.js","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.imul.js","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.log10.js","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.log1p.js","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.log2.js","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.sign.js","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.sinh.js","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.tanh.js","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.math.trunc.js","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.constructor.js","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.epsilon.js","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.is-finite.js","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.is-integer.js","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.is-nan.js","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.is-safe-integer.js","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.max-safe-integer.js","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.min-safe-integer.js","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.parse-float.js","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.parse-int.js","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.to-fixed.js","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.number.to-precision.js","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.assign.js","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.create.js","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.define-properties.js","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.define-property.js","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.freeze.js","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-descriptor.js","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-names.js","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.get-prototype-of.js","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.is-extensible.js","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.is-frozen.js","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.is-sealed.js","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.is.js","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.keys.js","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.prevent-extensions.js","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.seal.js","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.set-prototype-of.js","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.object.to-string.js","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.parse-float.js","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.parse-int.js","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.promise.js","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.apply.js","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.construct.js","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.define-property.js","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.delete-property.js","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.enumerate.js","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.get-own-property-descriptor.js","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.get-prototype-of.js","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.get.js","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.has.js","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.is-extensible.js","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.own-keys.js","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.prevent-extensions.js","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.set-prototype-of.js","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.reflect.set.js","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.constructor.js","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.match.js","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.replace.js","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.search.js","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.split.js","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.regexp.to-string.js","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.anchor.js","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.big.js","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.blink.js","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.bold.js","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.code-point-at.js","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.ends-with.js","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.fixed.js","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.fontcolor.js","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.fontsize.js","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.from-code-point.js","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.includes.js","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.italics.js","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.iterator.js","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.link.js","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.raw.js","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.repeat.js","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.small.js","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.starts-with.js","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.strike.js","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.sub.js","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.sup.js","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.string.trim.js","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.symbol.js","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var final = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < final) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.array-buffer.js","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.data-view.js","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.float32-array.js","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.float64-array.js","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.int16-array.js","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.int32-array.js","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.int8-array.js","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.uint16-array.js","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.uint32-array.js","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.uint8-array.js","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.typed.uint8-clamped-array.js","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es6.weak-set.js","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.array.flat-map.js","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatten: function flatten(/* depthArg = 1 */) {\n    var depthArg = arguments[0];\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatten');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.array.flatten.js","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.array.includes.js","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export = require('./_export');\nvar microtask = require('./_microtask')();\nvar process = require('./_global').process;\nvar isNode = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.asap.js","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export');\nvar cof = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it) {\n    return cof(it) === 'Error';\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.error.is-error.js","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.G, { global: require('./_global') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.global.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.map.from.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.map.of.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.map.to-json.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clamp: function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.clamp.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.deg-per-rad.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar RAD_PER_DEG = 180 / Math.PI;\n\n$export($export.S, 'Math', {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.degrees.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar scale = require('./_math-scale');\nvar fround = require('./_math-fround');\n\n$export($export.S, 'Math', {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.fscale.js","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.iaddh.js","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.imulh.js","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.isubh.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.rad-per-deg.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar DEG_PER_RAD = Math.PI / 180;\n\n$export($export.S, 'Math', {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.radians.js","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { scale: require('./_math-scale') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.scale.js","// http://jfbastien.github.io/papers/Math.signbit.html\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { signbit: function signbit(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.signbit.js","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.math.umulh.js","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter) {\n    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.define-getter.js","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter) {\n    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.define-setter.js","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.entries.js","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.get-own-property-descriptors.js","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.get;\n    } while (O = getPrototypeOf(O));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.lookup-getter.js","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.set;\n    } while (O = getPrototypeOf(O));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.lookup-setter.js","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.object.values.js","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.observable.js","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.promise.finally.js","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.promise.try.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.define-metadata.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar getOrCreateMetadataMap = metadata.map;\nvar store = metadata.store;\n\nmetadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);\n  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;\n  if (metadataMap.size) return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.delete-metadata.js","var Set = require('./es6.set');\nvar from = require('./_array-from-iterable');\nvar metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.get-metadata-keys.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.get-metadata.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.get-own-metadata-keys.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.get-own-metadata.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.has-metadata.js","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.has-own-metadata.js","var $metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar toMetaKey = $metadata.key;\nvar ordinaryDefineOwnMetadata = $metadata.set;\n\n$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {\n  return function decorator(target, targetKey) {\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n} });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.reflect.metadata.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.set.from.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.set.of.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.set.to-json.js","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export');\nvar $at = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos) {\n    return $at(this, pos);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.at.js","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export = require('./_export');\nvar defined = require('./_defined');\nvar toLength = require('./_to-length');\nvar isRegExp = require('./_is-regexp');\nvar getFlags = require('./_flags');\nvar RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function (regexp, string) {\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {\n  var match = this._r.exec(this._s);\n  return { value: match, done: match === null };\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp) {\n    defined(this);\n    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');\n    var S = String(this);\n    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);\n    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.match-all.js","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.pad-end.js","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.pad-start.js","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.trim-left.js","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.string.trim-right.js","require('./_wks-define')('asyncIterator');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.symbol.async-iterator.js","require('./_wks-define')('observable');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.symbol.observable.js","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', { global: require('./_global') });\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.system.global.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.weak-map.from.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.weak-map.of.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\nrequire('./_set-collection-from')('WeakSet');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.weak-set.from.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\nrequire('./_set-collection-of')('WeakSet');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/es7.weak-set.of.js","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/web.dom.iterable.js","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/web.immediate.js","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar navigator = global.navigator;\nvar slice = [].slice;\nvar MSIE = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/modules/web.timers.js","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.array.flat-map');\nrequire('./modules/es7.array.flatten');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.map.of');\nrequire('./modules/es7.set.of');\nrequire('./modules/es7.weak-map.of');\nrequire('./modules/es7.weak-set.of');\nrequire('./modules/es7.map.from');\nrequire('./modules/es7.set.from');\nrequire('./modules/es7.weak-map.from');\nrequire('./modules/es7.weak-set.from');\nrequire('./modules/es7.global');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.clamp');\nrequire('./modules/es7.math.deg-per-rad');\nrequire('./modules/es7.math.degrees');\nrequire('./modules/es7.math.fscale');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.rad-per-deg');\nrequire('./modules/es7.math.radians');\nrequire('./modules/es7.math.scale');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.math.signbit');\nrequire('./modules/es7.promise.finally');\nrequire('./modules/es7.promise.try');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/core-js/shim.js","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n// WEBPACK FOOTER //\n// ./~/babel-polyfill/~/regenerator-runtime/runtime.js","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\n\t\t\t'use strict';\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '88';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RGB_S3TC_DXT1_Format = 2001;\nvar RGBA_S3TC_DXT1_Format = 2002;\nvar RGBA_S3TC_DXT3_Format = 2003;\nvar RGBA_S3TC_DXT5_Format = 2004;\nvar RGB_PVRTC_4BPPV1_Format = 2100;\nvar RGB_PVRTC_2BPPV1_Format = 2101;\nvar RGBA_PVRTC_4BPPV1_Format = 2102;\nvar RGBA_PVRTC_2BPPV1_Format = 2103;\nvar RGB_ETC1_Format = 2151;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://www.broofa.com/Tools/Math.uuid.htm\n\t\t// Replaced .join with string concatenation (@takahirox)\n\n\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\n\t\tvar rnd = 0, r;\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar uuid = '';\n\n\t\t\tfor ( var i = 0; i < 36; i ++ ) {\n\n\t\t\t\tif ( i === 8 || i === 13 || i === 18 || i === 23 ) {\n\n\t\t\t\t\tuuid += '-';\n\n\t\t\t\t} else if ( i === 14 ) {\n\n\t\t\t\t\tuuid += '4';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\n\t\t\t\t\tr = rnd & 0xf;\n\t\t\t\t\trnd = rnd >> 4;\n\t\t\t\t\tuuid += chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn uuid;\n\n\t\t};\n\n\t}(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = q._x, y = q._y, z = q._z, w = q._w;\n\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tte[ 0 ] = 1 - ( yy + zz );\n\t\tte[ 4 ] = xy - wz;\n\t\tte[ 8 ] = xz + wy;\n\n\t\tte[ 1 ] = xy + wz;\n\t\tte[ 5 ] = 1 - ( xx + zz );\n\t\tte[ 9 ] = yz - wx;\n\n\t\tte[ 2 ] = xz - wy;\n\t\tte[ 6 ] = yz + wx;\n\t\tte[ 10 ] = 1 - ( xx + yy );\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tthis.makeRotationFromQuaternion( quaternion );\n\t\tthis.scale( scale );\n\t\tthis.setPosition( position );\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tinverse: function () {\n\n\t\treturn this.conjugate().normalize();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\tthis._z = 0.5 * ( z + this._z );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function project( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\tvar sinPhiRadius = Math.sin( s.phi ) * s.radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( s.theta );\n\t\tthis.y = Math.cos( s.phi ) * s.radius;\n\t\tthis.z = sinPhiRadius * Math.cos( s.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\tthis.x = c.radius * Math.sin( c.theta );\n\t\tthis.y = c.y;\n\t\tthis.z = c.radius * Math.cos( c.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( Texture.prototype, EventDispatcher.prototype, {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tfunction getDataURL( image ) {\n\n\t\t\tvar canvas;\n\n\t\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\t\tcanvas = image;\n\n\t\t\t} else {\n\n\t\t\t\tcanvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\n\t\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t\t} else {\n\n\t\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar output = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: getDataURL( image )\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tif ( options.minFilter === undefined ) options.minFilter = LinearFilter;\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nObject.assign( WebGLRenderTarget.prototype, EventDispatcher.prototype, {\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\tthis.activeMipMapLevel = 0;\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = renderer.allocTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) {\n\n\tgl.uniform1f( this.addr, v );\n\n}\n\nfunction setValue1i( gl, v ) {\n\n\tgl.uniform1i( this.addr, v );\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n\tif ( v.x === undefined ) {\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t} else {\n\n\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t}\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n\tif ( v.x !== undefined ) {\n\n\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t} else {\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t}\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n\tif ( v.x === undefined ) {\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t} else {\n\n\t\t gl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n\tgl.uniformMatrix2fv( this.addr, false, v.elements || v );\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n\tif ( v.elements === undefined ) {\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t} else {\n\n\t\tmat3array.set( v.elements );\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t}\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n\tif ( v.elements === undefined ) {\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t} else {\n\n\t\tmat4array.set( v.elements );\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n\tvar unit = renderer.allocTextureUnit();\n\tgl.uniform1i( this.addr, unit );\n\trenderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n\tvar unit = renderer.allocTextureUnit();\n\tgl.uniform1i( this.addr, unit );\n\trenderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValue3iv( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValue4iv( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1f; // FLOAT\n\t\tcase 0x8b50: return setValue2fv; // _VEC2\n\t\tcase 0x8b51: return setValue3fv; // _VEC3\n\t\tcase 0x8b52: return setValue4fv; // _VEC4\n\n\t\tcase 0x8b5a: return setValue2fm; // _MAT2\n\t\tcase 0x8b5b: return setValue3fm; // _MAT3\n\t\tcase 0x8b5c: return setValue4fm; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\nfunction setValue1iv( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n\tgl.uniform2fv( this.addr, flatten( v, this.size, 2 ) );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n\tgl.uniform3fv( this.addr, flatten( v, this.size, 3 ) );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n\tgl.uniform4fv( this.addr, flatten( v, this.size, 4 ) );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n\tgl.uniformMatrix2fv( this.addr, false, flatten( v, this.size, 4 ) );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n\tgl.uniformMatrix3fv( this.addr, false, flatten( v, this.size, 9 ) );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n\tgl.uniformMatrix4fv( this.addr, false, flatten( v, this.size, 16 ) );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n\tvar n = v.length,\n\t\tunits = allocTexUnits( renderer, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n\tvar n = v.length,\n\t\tunits = allocTexUnits( renderer, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1fv; // FLOAT\n\t\tcase 0x8b50: return setValueV2a; // _VEC2\n\t\tcase 0x8b51: return setValueV3a; // _VEC3\n\t\tcase 0x8b52: return setValueV4a; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2a; // _MAT2\n\t\tcase 0x8b5b: return setValueM3a; // _MAT3\n\t\tcase 0x8b5c: return setValueM4a; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tUniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value ) {\n\n\t// Note: Don't need an extra 'renderer' parameter, since samplers\n\t// are not allowed in structured uniforms.\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ] );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\tfor ( ; ; ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n\tUniformContainer.call( this );\n\n\tthis.renderer = renderer;\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\tpath = info.name,\n\t\t\taddr = gl.getUniformLocation( program, path );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, this.renderer );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, renderer );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function () {\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tthis.r = r * r;\n\t\tthis.g = g * g;\n\t\tthis.b = b * b;\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function () {\n\n\t\tthis.r = Math.sqrt( this.r );\n\t\tthis.g = Math.sqrt( this.g );\n\t\tthis.b = Math.sqrt( this.b );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( optionalTarget ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tvar hsl = optionalTarget || { h: 0, s: 0, l: 0 };\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\thsl.h = hue;\n\t\thsl.s = saturation;\n\t\thsl.l = lightness;\n\n\t\treturn hsl;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tvar hsl = this.getHSL();\n\n\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * Uniform Utilities\n */\n\nvar UniformsUtils = {\n\n\tmerge: function ( uniforms ) {\n\n\t\tvar merged = {};\n\n\t\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\t\tvar tmp = this.clone( uniforms[ u ] );\n\n\t\t\tfor ( var p in tmp ) {\n\n\t\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn merged;\n\n\t},\n\n\tclone: function ( uniforms_src ) {\n\n\t\tvar uniforms_dst = {};\n\n\t\tfor ( var u in uniforms_src ) {\n\n\t\t\tuniforms_dst[ u ] = {};\n\n\t\t\tfor ( var p in uniforms_src[ u ] ) {\n\n\t\t\t\tvar parameter_src = uniforms_src[ u ][ p ];\n\n\t\t\t\tif ( parameter_src && ( parameter_src.isColor ||\n\t\t\t\t\tparameter_src.isMatrix3 || parameter_src.isMatrix4 ||\n\t\t\t\t\tparameter_src.isVector2 || parameter_src.isVector3 || parameter_src.isVector4 ||\n\t\t\t\t\tparameter_src.isTexture ) ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.clone();\n\n\t\t\t\t} else if ( Array.isArray( parameter_src ) ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.slice();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn uniforms_dst;\n\n\t}\n\n};\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"\\nvec3 transformed = vec3( position );\\n\";\n\nvar beginnormal_vertex = \"\\nvec3 objectNormal = vec3( normal );\\n\";\n\nvar bsdfs = \"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\n\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\";\n\nvar encodings_fragment = \"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\";\n\nvar fog_vertex = \"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lights_pars = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";\n\nvar lights_template = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\\n\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\";\n\nvar normal_fragment = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\\n\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\\n\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\\n\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\";\n\nvar cube_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\\n\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\\n\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\\n\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\";\n\nvar equirect_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars: lights_pars,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_template: lights_template,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment: normal_fragment,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: UniformsUtils.merge( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn this.isEmpty() ? result.set( 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn this.isEmpty() ? result.set( 0, 0 ) : result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new Vector2();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLFlareRenderer( renderer, gl, state, textures, capabilities ) {\n\n\tvar vertexBuffer, elementBuffer;\n\tvar shader, program, attributes, uniforms;\n\n\tvar tempTexture, occlusionTexture;\n\n\tfunction init() {\n\n\t\tvar vertices = new Float32Array( [\n\t\t\t- 1, - 1, 0, 0,\n\t\t\t  1, - 1, 1, 0,\n\t\t\t  1, 1, 1, 1,\n\t\t\t- 1, 1, 0, 1\n\t\t] );\n\n\t\tvar faces = new Uint16Array( [\n\t\t\t0, 1, 2,\n\t\t\t0, 2, 3\n\t\t] );\n\n\t\t// buffers\n\n\t\tvertexBuffer = gl.createBuffer();\n\t\telementBuffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n\t\t// textures\n\n\t\ttempTexture = gl.createTexture();\n\t\tocclusionTexture = gl.createTexture();\n\n\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n\t\tshader = {\n\n\t\t\tvertexShader: [\n\n\t\t\t\t'uniform lowp int renderType;',\n\n\t\t\t\t'uniform vec3 screenPosition;',\n\t\t\t\t'uniform vec2 scale;',\n\t\t\t\t'uniform float rotation;',\n\n\t\t\t\t'uniform sampler2D occlusionMap;',\n\n\t\t\t\t'attribute vec2 position;',\n\t\t\t\t'attribute vec2 uv;',\n\n\t\t\t\t'varying vec2 vUV;',\n\t\t\t\t'varying float vVisibility;',\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t'\tvUV = uv;',\n\n\t\t\t\t'\tvec2 pos = position;',\n\n\t\t\t\t'\tif ( renderType == 2 ) {',\n\n\t\t\t\t'\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );',\n\n\t\t\t\t'\t\tvVisibility =        visibility.r / 9.0;',\n\t\t\t\t'\t\tvVisibility *= 1.0 - visibility.g / 9.0;',\n\t\t\t\t'\t\tvVisibility *=       visibility.b / 9.0;',\n\t\t\t\t'\t\tvVisibility *= 1.0 - visibility.a / 9.0;',\n\n\t\t\t\t'\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;',\n\t\t\t\t'\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;',\n\n\t\t\t\t'\t}',\n\n\t\t\t\t'\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );',\n\n\t\t\t\t'}'\n\n\t\t\t].join( '\\n' ),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t'uniform lowp int renderType;',\n\n\t\t\t\t'uniform sampler2D map;',\n\t\t\t\t'uniform float opacity;',\n\t\t\t\t'uniform vec3 color;',\n\n\t\t\t\t'varying vec2 vUV;',\n\t\t\t\t'varying float vVisibility;',\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t// pink square\n\n\t\t\t\t'\tif ( renderType == 0 ) {',\n\n\t\t\t\t'\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );',\n\n\t\t\t\t// restore\n\n\t\t\t\t'\t} else if ( renderType == 1 ) {',\n\n\t\t\t\t'\t\tgl_FragColor = texture2D( map, vUV );',\n\n\t\t\t\t// flare\n\n\t\t\t\t'\t} else {',\n\n\t\t\t\t'\t\tvec4 texture = texture2D( map, vUV );',\n\t\t\t\t'\t\ttexture.a *= opacity * vVisibility;',\n\t\t\t\t'\t\tgl_FragColor = texture;',\n\t\t\t\t'\t\tgl_FragColor.rgb *= color;',\n\n\t\t\t\t'\t}',\n\n\t\t\t\t'}'\n\n\t\t\t].join( '\\n' )\n\n\t\t};\n\n\t\tprogram = createProgram( shader );\n\n\t\tattributes = {\n\t\t\tvertex: gl.getAttribLocation( program, 'position' ),\n\t\t\tuv: gl.getAttribLocation( program, 'uv' )\n\t\t};\n\n\t\tuniforms = {\n\t\t\trenderType: gl.getUniformLocation( program, 'renderType' ),\n\t\t\tmap: gl.getUniformLocation( program, 'map' ),\n\t\t\tocclusionMap: gl.getUniformLocation( program, 'occlusionMap' ),\n\t\t\topacity: gl.getUniformLocation( program, 'opacity' ),\n\t\t\tcolor: gl.getUniformLocation( program, 'color' ),\n\t\t\tscale: gl.getUniformLocation( program, 'scale' ),\n\t\t\trotation: gl.getUniformLocation( program, 'rotation' ),\n\t\t\tscreenPosition: gl.getUniformLocation( program, 'screenPosition' )\n\t\t};\n\n\t}\n\n\t/*\n\t * Render lens flares\n\t * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n\t *         reads these back and calculates occlusion.\n\t */\n\n\tthis.render = function ( flares, scene, camera, viewport ) {\n\n\t\tif ( flares.length === 0 ) return;\n\n\t\tvar tempPosition = new Vector3();\n\n\t\tvar invAspect = viewport.w / viewport.z,\n\t\t\thalfViewportWidth = viewport.z * 0.5,\n\t\t\thalfViewportHeight = viewport.w * 0.5;\n\n\t\tvar size = 16 / viewport.w,\n\t\t\tscale = new Vector2( size * invAspect, size );\n\n\t\tvar screenPosition = new Vector3( 1, 1, 0 ),\n\t\t\tscreenPositionPixels = new Vector2( 1, 1 );\n\n\t\tvar validArea = new Box2();\n\n\t\tvalidArea.min.set( viewport.x, viewport.y );\n\t\tvalidArea.max.set( viewport.x + ( viewport.z - 16 ), viewport.y + ( viewport.w - 16 ) );\n\n\t\tif ( program === undefined ) {\n\n\t\t\tinit();\n\n\t\t}\n\n\t\tstate.useProgram( program );\n\n\t\tstate.initAttributes();\n\t\tstate.enableAttribute( attributes.vertex );\n\t\tstate.enableAttribute( attributes.uv );\n\t\tstate.disableUnusedAttributes();\n\n\t\t// loop through all lens flares to update their occlusion and positions\n\t\t// setup gl and common used attribs/uniforms\n\n\t\tgl.uniform1i( uniforms.occlusionMap, 0 );\n\t\tgl.uniform1i( uniforms.map, 1 );\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.vertexAttribPointer( attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n\t\tstate.disable( gl.CULL_FACE );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\tfor ( var i = 0, l = flares.length; i < l; i ++ ) {\n\n\t\t\tsize = 16 / viewport.w;\n\t\t\tscale.set( size * invAspect, size );\n\n\t\t\t// calc object screen position\n\n\t\t\tvar flare = flares[ i ];\n\n\t\t\ttempPosition.set( flare.matrixWorld.elements[ 12 ], flare.matrixWorld.elements[ 13 ], flare.matrixWorld.elements[ 14 ] );\n\n\t\t\ttempPosition.applyMatrix4( camera.matrixWorldInverse );\n\t\t\ttempPosition.applyMatrix4( camera.projectionMatrix );\n\n\t\t\t// setup arrays for gl programs\n\n\t\t\tscreenPosition.copy( tempPosition );\n\n\t\t\t// horizontal and vertical coordinate of the lower left corner of the pixels to copy\n\n\t\t\tscreenPositionPixels.x = viewport.x + ( screenPosition.x * halfViewportWidth ) + halfViewportWidth - 8;\n\t\t\tscreenPositionPixels.y = viewport.y + ( screenPosition.y * halfViewportHeight ) + halfViewportHeight - 8;\n\n\t\t\t// screen cull\n\n\t\t\tif ( validArea.containsPoint( screenPositionPixels ) === true ) {\n\n\t\t\t\t// save current RGB to temp texture\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, null );\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n\t\t\t\t// render pink quad\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 0 );\n\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\n\t\t\t\tstate.disable( gl.BLEND );\n\t\t\t\tstate.enable( gl.DEPTH_TEST );\n\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// copy result to occlusionMap\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n\t\t\t\t// restore graphics\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 1 );\n\t\t\t\tstate.disable( gl.DEPTH_TEST );\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// update object positions\n\n\t\t\t\tflare.positionScreen.copy( screenPosition );\n\n\t\t\t\tif ( flare.customUpdateCallback ) {\n\n\t\t\t\t\tflare.customUpdateCallback( flare );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tflare.updateLensFlares();\n\n\t\t\t\t}\n\n\t\t\t\t// render flares\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 2 );\n\t\t\t\tstate.enable( gl.BLEND );\n\n\t\t\t\tfor ( var j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar sprite = flare.lensFlares[ j ];\n\n\t\t\t\t\tif ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\n\n\t\t\t\t\t\tscreenPosition.x = sprite.x;\n\t\t\t\t\t\tscreenPosition.y = sprite.y;\n\t\t\t\t\t\tscreenPosition.z = sprite.z;\n\n\t\t\t\t\t\tsize = sprite.size * sprite.scale / viewport.w;\n\n\t\t\t\t\t\tscale.x = size * invAspect;\n\t\t\t\t\t\tscale.y = size;\n\n\t\t\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\t\t\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t\t\tgl.uniform1f( uniforms.rotation, sprite.rotation );\n\n\t\t\t\t\t\tgl.uniform1f( uniforms.opacity, sprite.opacity );\n\t\t\t\t\t\tgl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\n\n\t\t\t\t\t\tstate.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\n\n\t\t\t\t\t\ttextures.setTexture2D( sprite.texture, 1 );\n\n\t\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore gl\n\n\t\tstate.enable( gl.CULL_FACE );\n\t\tstate.enable( gl.DEPTH_TEST );\n\t\tstate.buffers.depth.setMask( true );\n\n\t\tstate.reset();\n\n\t};\n\n\tfunction createProgram( shader ) {\n\n\t\tvar program = gl.createProgram();\n\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\n\t\tvar prefix = 'precision ' + capabilities.precision + ' float;\\n';\n\n\t\tgl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\n\t\tgl.shaderSource( vertexShader, prefix + shader.vertexShader );\n\n\t\tgl.compileShader( fragmentShader );\n\t\tgl.compileShader( vertexShader );\n\n\t\tgl.attachShader( program, fragmentShader );\n\t\tgl.attachShader( program, vertexShader );\n\n\t\tgl.linkProgram( program );\n\n\t\treturn program;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLSpriteRenderer( renderer, gl, state, textures, capabilities ) {\n\n\tvar vertexBuffer, elementBuffer;\n\tvar program, attributes, uniforms;\n\n\tvar texture;\n\n\t// decompose matrixWorld\n\n\tvar spritePosition = new Vector3();\n\tvar spriteRotation = new Quaternion();\n\tvar spriteScale = new Vector3();\n\n\tfunction init() {\n\n\t\tvar vertices = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0,\n\t\t\t  0.5, - 0.5, 1, 0,\n\t\t\t  0.5, 0.5, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 1\n\t\t] );\n\n\t\tvar faces = new Uint16Array( [\n\t\t\t0, 1, 2,\n\t\t\t0, 2, 3\n\t\t] );\n\n\t\tvertexBuffer = gl.createBuffer();\n\t\telementBuffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n\t\tprogram = createProgram();\n\n\t\tattributes = {\n\t\t\tposition: gl.getAttribLocation( program, 'position' ),\n\t\t\tuv: gl.getAttribLocation( program, 'uv' )\n\t\t};\n\n\t\tuniforms = {\n\t\t\tuvOffset: gl.getUniformLocation( program, 'uvOffset' ),\n\t\t\tuvScale: gl.getUniformLocation( program, 'uvScale' ),\n\n\t\t\trotation: gl.getUniformLocation( program, 'rotation' ),\n\t\t\tscale: gl.getUniformLocation( program, 'scale' ),\n\n\t\t\tcolor: gl.getUniformLocation( program, 'color' ),\n\t\t\tmap: gl.getUniformLocation( program, 'map' ),\n\t\t\topacity: gl.getUniformLocation( program, 'opacity' ),\n\n\t\t\tmodelViewMatrix: gl.getUniformLocation( program, 'modelViewMatrix' ),\n\t\t\tprojectionMatrix: gl.getUniformLocation( program, 'projectionMatrix' ),\n\n\t\t\tfogType: gl.getUniformLocation( program, 'fogType' ),\n\t\t\tfogDensity: gl.getUniformLocation( program, 'fogDensity' ),\n\t\t\tfogNear: gl.getUniformLocation( program, 'fogNear' ),\n\t\t\tfogFar: gl.getUniformLocation( program, 'fogFar' ),\n\t\t\tfogColor: gl.getUniformLocation( program, 'fogColor' ),\n\t\t\tfogDepth: gl.getUniformLocation( program, 'fogDepth' ),\n\n\t\t\talphaTest: gl.getUniformLocation( program, 'alphaTest' )\n\t\t};\n\n\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\tcanvas.width = 8;\n\t\tcanvas.height = 8;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tcontext.fillStyle = 'white';\n\t\tcontext.fillRect( 0, 0, 8, 8 );\n\n\t\ttexture = new CanvasTexture( canvas );\n\n\t}\n\n\tthis.render = function ( sprites, scene, camera ) {\n\n\t\tif ( sprites.length === 0 ) return;\n\n\t\t// setup gl\n\n\t\tif ( program === undefined ) {\n\n\t\t\tinit();\n\n\t\t}\n\n\t\tstate.useProgram( program );\n\n\t\tstate.initAttributes();\n\t\tstate.enableAttribute( attributes.position );\n\t\tstate.enableAttribute( attributes.uv );\n\t\tstate.disableUnusedAttributes();\n\n\t\tstate.disable( gl.CULL_FACE );\n\t\tstate.enable( gl.BLEND );\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.vertexAttribPointer( attributes.position, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n\t\tgl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\n\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\tgl.uniform1i( uniforms.map, 0 );\n\n\t\tvar oldFogType = 0;\n\t\tvar sceneFogType = 0;\n\t\tvar fog = scene.fog;\n\n\t\tif ( fog ) {\n\n\t\t\tgl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\n\n\t\t\tif ( fog.isFog ) {\n\n\t\t\t\tgl.uniform1f( uniforms.fogNear, fog.near );\n\t\t\t\tgl.uniform1f( uniforms.fogFar, fog.far );\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, 1 );\n\t\t\t\toldFogType = 1;\n\t\t\t\tsceneFogType = 1;\n\n\t\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\t\tgl.uniform1f( uniforms.fogDensity, fog.density );\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, 2 );\n\t\t\t\toldFogType = 2;\n\t\t\t\tsceneFogType = 2;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl.uniform1i( uniforms.fogType, 0 );\n\t\t\toldFogType = 0;\n\t\t\tsceneFogType = 0;\n\n\t\t}\n\n\n\t\t// update positions and sort\n\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n\t\t\tvar sprite = sprites[ i ];\n\n\t\t\tsprite.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\n\t\t\tsprite.z = - sprite.modelViewMatrix.elements[ 14 ];\n\n\t\t}\n\n\t\tsprites.sort( painterSortStable );\n\n\t\t// render all sprites\n\n\t\tvar scale = [];\n\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n\t\t\tvar sprite = sprites[ i ];\n\t\t\tvar material = sprite.material;\n\n\t\t\tif ( material.visible === false ) continue;\n\n\t\t\tsprite.onBeforeRender( renderer, scene, camera, undefined, material, undefined );\n\n\t\t\tgl.uniform1f( uniforms.alphaTest, material.alphaTest );\n\t\t\tgl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements );\n\n\t\t\tsprite.matrixWorld.decompose( spritePosition, spriteRotation, spriteScale );\n\n\t\t\tscale[ 0 ] = spriteScale.x;\n\t\t\tscale[ 1 ] = spriteScale.y;\n\n\t\t\tvar fogType = 0;\n\n\t\t\tif ( scene.fog && material.fog ) {\n\n\t\t\t\tfogType = sceneFogType;\n\n\t\t\t}\n\n\t\t\tif ( oldFogType !== fogType ) {\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, fogType );\n\t\t\t\toldFogType = fogType;\n\n\t\t\t}\n\n\t\t\tif ( material.map !== null ) {\n\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\n\t\t\t\tgl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\n\n\t\t\t} else {\n\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, 0, 0 );\n\t\t\t\tgl.uniform2f( uniforms.uvScale, 1, 1 );\n\n\t\t\t}\n\n\t\t\tgl.uniform1f( uniforms.opacity, material.opacity );\n\t\t\tgl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\n\n\t\t\tgl.uniform1f( uniforms.rotation, material.rotation );\n\t\t\tgl.uniform2fv( uniforms.scale, scale );\n\n\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\t\t\tstate.buffers.depth.setTest( material.depthTest );\n\t\t\tstate.buffers.depth.setMask( material.depthWrite );\n\t\t\tstate.buffers.color.setMask( material.colorWrite );\n\n\t\t\ttextures.setTexture2D( material.map || texture, 0 );\n\n\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\t\t\tsprite.onAfterRender( renderer, scene, camera, undefined, material, undefined );\n\n\t\t}\n\n\t\t// restore gl\n\n\t\tstate.enable( gl.CULL_FACE );\n\n\t\tstate.reset();\n\n\t};\n\n\tfunction createProgram() {\n\n\t\tvar program = gl.createProgram();\n\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\n\t\tgl.shaderSource( vertexShader, [\n\n\t\t\t'precision ' + capabilities.precision + ' float;',\n\n\t\t\t'#define SHADER_NAME ' + 'SpriteMaterial',\n\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform float rotation;',\n\t\t\t'uniform vec2 scale;',\n\t\t\t'uniform vec2 uvOffset;',\n\t\t\t'uniform vec2 uvScale;',\n\n\t\t\t'attribute vec2 position;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'varying vec2 vUV;',\n\t\t\t'varying float fogDepth;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvUV = uvOffset + uv * uvScale;',\n\n\t\t\t'\tvec2 alignedPosition = position * scale;',\n\n\t\t\t'\tvec2 rotatedPosition;',\n\t\t\t'\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\n\t\t\t'\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\n\n\t\t\t'\tvec4 mvPosition;',\n\n\t\t\t'\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\n\t\t\t'\tmvPosition.xy += rotatedPosition;',\n\n\t\t\t'\tgl_Position = projectionMatrix * mvPosition;',\n\n\t\t\t'\tfogDepth = - mvPosition.z;',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\tgl.shaderSource( fragmentShader, [\n\n\t\t\t'precision ' + capabilities.precision + ' float;',\n\n\t\t\t'#define SHADER_NAME ' + 'SpriteMaterial',\n\n\t\t\t'uniform vec3 color;',\n\t\t\t'uniform sampler2D map;',\n\t\t\t'uniform float opacity;',\n\n\t\t\t'uniform int fogType;',\n\t\t\t'uniform vec3 fogColor;',\n\t\t\t'uniform float fogDensity;',\n\t\t\t'uniform float fogNear;',\n\t\t\t'uniform float fogFar;',\n\t\t\t'uniform float alphaTest;',\n\n\t\t\t'varying vec2 vUV;',\n\t\t\t'varying float fogDepth;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvec4 texture = texture2D( map, vUV );',\n\n\t\t\t'\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\n\n\t\t\t'\tif ( gl_FragColor.a < alphaTest ) discard;',\n\n\t\t\t'\tif ( fogType > 0 ) {',\n\n\t\t\t'\t\tfloat fogFactor = 0.0;',\n\n\t\t\t'\t\tif ( fogType == 1 ) {',\n\n\t\t\t'\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );',\n\n\t\t\t'\t\t} else {',\n\n\t\t\t'\t\t\tconst float LOG2 = 1.442695;',\n\t\t\t'\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );',\n\t\t\t'\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\n\n\t\t\t'\t\t}',\n\n\t\t\t'\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );',\n\n\t\t\t'\t}',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\tgl.compileShader( vertexShader );\n\t\tgl.compileShader( fragmentShader );\n\n\t\tgl.attachShader( program, vertexShader );\n\t\tgl.attachShader( program, fragmentShader );\n\n\t\tgl.linkProgram( program );\n\n\t\treturn program;\n\n\t}\n\n\tfunction painterSortStable( a, b ) {\n\n\t\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\t\treturn a.renderOrder - b.renderOrder;\n\n\t\t} else if ( a.z !== b.z ) {\n\n\t\t\treturn b.z - a.z;\n\n\t\t} else {\n\n\t\t\treturn b.id - a.id;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nObject.assign( Material.prototype, EventDispatcher.prototype, {\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else if ( key === 'overdraw' ) {\n\n\t\t\t\t// ensure overdraw is backwards-compatible with legacy boolean type\n\t\t\t\tthis[ key ] = Number( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.overdraw = source.overdraw;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn this.isEmpty() ? result.set( 0, 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn this.isEmpty() ? result.set( 0, 0, 0 ) : result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= plane.constant && max >= plane.constant );\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Sphere();\n\n\t\t\tthis.getCenter( result.center );\n\n\t\t\tresult.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) return this;\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );\t// 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\tresult.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tresult.sub( this.center ).normalize();\n\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\tgetBoundingBox: function ( optionalTarget ) {\n\n\t\tvar box = optionalTarget || new Box3();\n\n\t\tbox.set( this.center, this.center );\n\t\tbox.expandByScalar( this.radius );\n\n\t\treturn box;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn result.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn result.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p1 = new Vector3(),\n\t\t\tp2 = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n\t\t\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n\t\t\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n\t\t\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tvar d1 = plane.distanceToPoint( p1 );\n\t\t\t\tvar d2 = plane.distanceToPoint( p2 );\n\n\t\t\t\t// if both outside plane, no intersection\n\n\t\t\t\tif ( d1 < 0 && d2 < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.renderReverseSided = true;\n\tthis.renderSingleSided = true;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\t// TODO Clean up (needed in case of contextlost)\n\t\tvar _gl = _renderer.context;\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.disable( _gl.BLEND );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tvar side = material.side;\n\n\t\tif ( scope.renderSingleSided && side == DoubleSide ) {\n\n\t\t\tside = FrontSide;\n\n\t\t}\n\n\t\tif ( scope.renderReverseSided ) {\n\n\t\t\tif ( side === FrontSide ) side = BackSide;\n\t\t\telse if ( side === BackSide ) side = FrontSide;\n\n\t\t}\n\n\t\tresult.side = side;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = {};\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = gl.FLOAT;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = gl.FLOAT;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = gl.UNSIGNED_SHORT;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = gl.SHORT;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = gl.UNSIGNED_INT;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = gl.INT;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = gl.BYTE;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = gl.UNSIGNED_BYTE;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, gl.STATIC_DRAW );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers[ attribute.uuid ];\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers[ attribute.uuid ];\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tdelete buffers[ attribute.uuid ];\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers[ attribute.uuid ];\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers[ attribute.uuid ] = createBuffer( attribute, bufferType );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject.assign( Object3D.prototype, EventDispatcher.prototype, {\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects with rotated and/or translated parent(s)\n\n\t\tvar m1 = new Matrix4();\n\t\tvar vector = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\tvector.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tif ( this.isCamera ) {\n\n\t\t\t\tm1.lookAt( this.position, vector, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( vector, this.position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn result.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Quaternion();\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, result, scale );\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldRotation: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldRotation( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Euler();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.setFromQuaternion( quaternion, this.rotation.order, false );\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, result );\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldDirection( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t};\n\n\t}(),\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.geometry !== undefined ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\tthis.projectionMatrix = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldDirection( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t};\n\n\t}(),\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = left;\n\tthis.right = right;\n\tthis.top = top;\n\tthis.bottom = bottom;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( Geometry.prototype, EventDispatcher.prototype, {\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tvar tempNormals = [];\n\t\tvar tempUVs = [];\n\t\tvar tempUVs2 = [];\n\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tscope.vertices.push( new Vector3( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] ) );\n\n\t\t\tif ( normals !== undefined ) {\n\n\t\t\t\ttempNormals.push( new Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\ttempUVs.push( new Vector2( uvs[ j ], uvs[ j + 1 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\ttempUVs2.push( new Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\n\t\t\tvar vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tvar offset = this.boundingBox.getCenter().negate();\n\n\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\treturn offset;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeLineDistances: function () {\n\n\t\tvar d = 0;\n\t\tvar vertices = this.vertices;\n\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tif ( i > 0 ) {\n\n\t\t\t\td += vertices[ i ].distanceTo( vertices[ i - 1 ] );\n\n\t\t\t}\n\n\t\t\tthis.lineDistances[ i ] = d;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tmesh.matrixAutoUpdate && mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.uuid = _Math.generateUUID();\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.onUploadCallback = function () {};\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyIndicesArray: function ( indices ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\tvar index = indices[ i ];\n\n\t\t\tarray[ offset ++ ] = index.a;\n\t\t\tarray[ offset ++ ] = index.b;\n\t\t\tarray[ offset ++ ] = index.c;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.indices = [];\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n}\n\nObject.assign( BufferGeometry.prototype, EventDispatcher.prototype, {\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\tthis.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tvar offset = this.boundingBox.getCenter().negate();\n\n\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\treturn offset;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\tif ( geometry.indices.length > 0 ) {\n\n\t\t\tvar TypeArray = arrayMax( geometry.indices ) > 65535 ? Uint32Array : Uint16Array;\n\t\t\tvar indices = new TypeArray( geometry.indices.length * 3 );\n\t\t\tthis.setIndex( new BufferAttribute( indices, 1 ).copyIndicesArray( geometry.indices ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.length * 3, 3 );\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\t\tvar groups = this.groups;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tthis.addGroup( 0, indices.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = groups.length; j < jl; ++ j ) {\n\n\t\t\t\t\tvar group = groups[ j ];\n\n\t\t\t\t\tvar start = group.start;\n\t\t\t\t\tvar count = group.count;\n\n\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = UniformsUtils.clone( source.uniforms );\n\n\tthis.defines = source.defines;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = this.uniforms;\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\tresult.subVectors( point, this.origin );\n\t\tvar directionDistance = result.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn result.copy( this.origin );\n\n\t\t}\n\n\t\treturn result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, optionalTarget ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, optionalTarget );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, optionalTarget );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, optionalTarget ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, optionalTarget );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, optionalTarget ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, optionalTarget ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, optionalTarget );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function () {\n\n\t\tvar startP = new Vector3();\n\t\tvar startEnd = new Vector3();\n\n\t\treturn function closestPointToPointParameter( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, optionalTarget ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tnormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function normal( a, b, c, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tresult.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\tresult.cross( v0 );\n\n\t\t\tvar resultLengthSq = result.lengthSq();\n\t\t\tif ( resultLengthSq > 0 ) {\n\n\t\t\t\treturn result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn result.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tbarycoordFromPoint: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function barycoordFromPoint( point, a, b, c, optionalTarget ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn result.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn result.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tvar result = Triangle.barycoordFromPoint( point, a, b, c, v1 );\n\n\t\t\treturn ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tarea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function area() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tmidpoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tnormal: function ( optionalTarget ) {\n\n\t\treturn Triangle.normal( this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tplane: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Plane();\n\n\t\treturn result.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tbarycoordFromPoint: function ( point, optionalTarget ) {\n\n\t\treturn Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar plane = new Plane();\n\t\tvar edgeList = [ new Line3(), new Line3(), new Line3() ];\n\t\tvar projectedPoint = new Vector3();\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function closestPointToPoint( point, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\t\t\tvar minDistance = Infinity;\n\n\t\t\t// project the point onto the plane of the triangle\n\n\t\t\tplane.setFromCoplanarPoints( this.a, this.b, this.c );\n\t\t\tplane.projectPoint( point, projectedPoint );\n\n\t\t\t// check if the projection lies within the triangle\n\n\t\t\tif ( this.containsPoint( projectedPoint ) === true ) {\n\n\t\t\t\t// if so, this is the closest point\n\n\t\t\t\tresult.copy( projectedPoint );\n\n\t\t\t} else {\n\n\t\t\t\t// if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\n\n\t\t\t\tedgeList[ 0 ].set( this.a, this.b );\n\t\t\t\tedgeList[ 1 ].set( this.b, this.c );\n\t\t\t\tedgeList[ 2 ].set( this.c, this.a );\n\n\t\t\t\tfor ( var i = 0; i < edgeList.length; i ++ ) {\n\n\t\t\t\t\tedgeList[ i ].closestPointToPoint( projectedPoint, true, closestPoint );\n\n\t\t\t\t\tvar distance = projectedPoint.distanceToSquared( closestPoint );\n\n\t\t\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\t\t\tminDistance = distance;\n\n\t\t\t\t\t\tresult.copy( closestPoint );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( m = 0, ml = morphTargets.length; m < ml; m ++ ) {\n\n\t\t\t\t\tname = morphTargets[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar barycoord = new Vector3();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction uvIntersection( point, p1, p2, p3, uv1, uv2, uv3 ) {\n\n\t\t\tTriangle.barycoordFromPoint( point, p1, p2, p3, barycoord );\n\n\t\t\tuv1.multiplyScalar( barycoord.x );\n\t\t\tuv2.multiplyScalar( barycoord.y );\n\t\t\tuv3.multiplyScalar( barycoord.z );\n\n\t\t\tuv1.add( uv2 ).add( uv3 );\n\n\t\t\treturn uv1.clone();\n\n\t\t}\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) return null;\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, raycaster, ray, position, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar intersection = checkIntersection( object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, vA, vB, vC, uvA, uvB, uvC );\n\n\t\t\t\t}\n\n\t\t\t\tintersection.face = new Face3( a, b, c, Triangle.normal( vA, vB, vC ) );\n\t\t\t\tintersection.faceIndex = a;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) return;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar i, l;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tfor ( i = 0, l = index.count; i < l; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indices buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tfor ( i = 0, l = position.count; i < l; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.index = a; // triangle number in positions buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, geometries, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeCamera, planeMesh;\n\tvar boxMesh;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && background.isCubeTexture ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tuniforms: ShaderLib.cube.uniforms,\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: true,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\tgeometries.update( boxMesh.geometry );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.tCube.value = background;\n\n\t\t\trenderList.push( boxMesh, boxMesh.geometry, boxMesh.material, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeCamera === undefined ) {\n\n\t\t\t\tplaneCamera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew MeshBasicMaterial( { depthTest: false, depthWrite: false, fog: false } )\n\t\t\t\t);\n\n\t\t\t\tgeometries.update( planeMesh.geometry );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.map = background;\n\n\t\t\t// TODO Push this to renderList\n\n\t\t\trenderer.renderBufferDirect( planeCamera, null, planeMesh.geometry, planeMesh.material, planeMesh, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program && b.program && a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction push( object, geometry, material, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t\trenderItemsIndex ++;\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction get( scene, camera ) {\n\n\t\tvar hash = scene.id + ',' + camera.id;\n\t\tvar list = lists[ hash ];\n\n\t\tif ( list === undefined ) {\n\n\t\t\t// console.log( 'THREE.WebGLRenderLists:', hash );\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ hash ] = list;\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, infoRender ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += count;\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\textension.drawElementsInstancedANGLE( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count * geometry.maxInstancedCount;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, infoRender ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += count;\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar position = geometry.attributes.position;\n\n\t\tif ( position.isInterleavedBufferAttribute ) {\n\n\t\t\tcount = position.data.count;\n\n\t\t\textension.drawArraysInstancedANGLE( mode, 0, count, geometry.maxInstancedCount );\n\n\t\t} else {\n\n\t\t\textension.drawArraysInstancedANGLE( mode, start, count, geometry.maxInstancedCount );\n\n\t\t}\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count * geometry.maxInstancedCount;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, infoMemory ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\t// TODO Remove duplicate code\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ geometry.id ];\n\n\t\t}\n\n\t\tattribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfoMemory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfoMemory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], gl.ARRAY_BUFFER );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) return attribute;\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\thash: '',\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity controls irradiance of entire light\n\t\t\t\tuniforms.color\n\t\t\t\t\t.copy( color )\n\t\t\t\t\t.multiplyScalar( intensity / ( light.width * light.height ) );\n\n\t\t\t\t// (b) intensity controls the radiance per light area\n\t\t\t\t// uniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\t// TODO (sam-g-steel) why aren't we using join\n\t\tstate.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + rectAreaLength + ',' + hemiLength + ',' + shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, infoRender ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = infoRender.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction clear() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tclear: clear\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\n\n\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t}\n\n\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn \"vec4 \" + functionName + \"( vec4 value ) { return \" + components[ 0 ] + \"ToLinear\" + components[ 1 ] + \"; }\";\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn \"vec4 \" + functionName + \"( vec4 value ) { return LinearTo\" + components[ 0 ] + components[ 1 ] + \"; }\";\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = \"Linear\";\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = \"Reinhard\";\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = \"Uncharted2\";\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = \"OptimizedCineon\";\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn \"vec3 \" + functionName + \"( vec3 color ) { return \" + toneMappingName + \"ToneMapping( color ); }\";\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d.]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n\t\t\t'#define UNION_CLIPPING_PLANES ' + ( parameters.numClippingPlanes - parameters.numClipIntersection ),\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '',\n\n\t\t\tparameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && extensions.get( 'EXT_shader_texture_lod' ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? \"#define TONE_MAPPING\" : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( \"toneMapping\", parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ? ShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( \"linearToOutputTexel\", parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\n\tif ( ! material.isShaderMaterial ) {\n\n\t\tvertexShader = unrollLoops( vertexShader );\n\t\tfragmentShader = unrollLoops( fragmentShader );\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\tvar programLog = gl.getProgramInfoLog( program );\n\tvar vertexLog = gl.getShaderInfoLog( glVertexShader );\n\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader );\n\n\tvar runnable = true;\n\tvar haveDiagnostics = true;\n\n\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\n\t\trunnable = false;\n\n\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t} else if ( programLog !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\thaveDiagnostics = false;\n\n\t}\n\n\tif ( haveDiagnostics ) {\n\n\t\tthis.diagnostics = {\n\n\t\t\trunnable: runnable,\n\t\t\tmaterial: material,\n\n\t\t\tprogramLog: programLog,\n\n\t\t\tvertexShader: {\n\n\t\t\t\tlog: vertexLog,\n\t\t\t\tprefix: prefixVertex\n\n\t\t\t},\n\n\t\t\tfragmentShader: {\n\n\t\t\t\tlog: fragmentLog,\n\t\t\t\tprefix: prefixFragment\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, infoMemory ) {\n\n\tvar _isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof window.WebGL2RenderingContext );\n\n\t//\n\n\tfunction clampToMaxSize( image, maxSize ) {\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\t// Warning: Scaling through the canvas will only work with images that use\n\t\t\t// premultiplied alpha.\n\n\t\t\tvar scale = maxSize / Math.max( image.width, image.height );\n\n\t\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\tcanvas.width = Math.floor( image.width * scale );\n\t\t\tcanvas.height = Math.floor( image.height * scale );\n\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n\t\t\treturn canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction makePowerOfTwo( image ) {\n\n\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\n\n\t\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\tcanvas.width = _Math.floorPowerOfTwo( image.width );\n\t\t\tcanvas.height = _Math.floorPowerOfTwo( image.height );\n\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n\t\t\treturn canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, isPowerOfTwo ) {\n\n\t\treturn texture.generateMipmaps && isPowerOfTwo &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn _gl.NEAREST;\n\n\t\t}\n\n\t\treturn _gl.LINEAR;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tinfoMemory.textures --;\n\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfoMemory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\t// remove all webgl properties\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined', texture );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\tinfoMemory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tisPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\n\n\t\t\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, isPowerOfTwoImage ) {\n\n\t\tvar extension;\n\n\t\tif ( isPowerOfTwoImage ) {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, utils.convert( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && extensions.get( 'OES_texture_half_float_linear' ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfoMemory.textures ++;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\n\t\tvar image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\n\n\t\tif ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\n\n\t\t\timage = makePowerOfTwo( image );\n\n\t\t}\n\n\t\tvar isPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type );\n\n\t\tsetTextureParameters( _gl.TEXTURE_2D, texture, isPowerOfTwoImage );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tvar internalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! _isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT32F;\n\n\t\t\t} else if ( _isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && internalFormat === _gl.DEPTH_COMPONENT ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tinternalFormat = _gl.DEPTH_STENCIL;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tstate.texImage2D( textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget ) {\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else {\n\n\t\t\t// FIXME: We don't support !depth !stencil\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfoMemory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isTargetPowerOfTwo ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t_gl.generateMipmap( target );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = {};\n\n\tfunction get( object ) {\n\n\t\tvar uuid = object.uuid;\n\t\tvar map = properties[ uuid ];\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties[ uuid ] = map;\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tdelete properties[ object.uuid ];\n\n\t}\n\n\tfunction clear() {\n\n\t\tproperties = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tclear: clear\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( gl.DEPTH_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.DEPTH_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( gl.STENCIL_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.STENCIL_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar capabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\n\n\tvar version = parseFloat( /^WebGL\\ ([0-9])/.exec( gl.getParameter( gl.VERSION ) )[ 1 ] );\n\tvar lineWidthAvailable = parseFloat( version ) >= 1.0;\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\n\temptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( gl.DEPTH_TEST );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( gl.CULL_FACE );\n\n\tenable( gl.BLEND );\n\tsetBlending( NormalBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== 0 ) {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension.vertexAttribDivisorANGLE( attribute, 0 );\n\t\t\tattributeDivisors[ attribute ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension.vertexAttribDivisorANGLE( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( capabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tcapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( capabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tcapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending !== NoBlending ) {\n\n\t\t\tenable( gl.BLEND );\n\n\t\t} else {\n\n\t\t\tdisable( gl.BLEND );\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\tcase AdditiveBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE, gl.ONE, gl.ONE );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase SubtractiveBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MultiplyBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcurrentBlendEquation = null;\n\t\t\tcurrentBlendSrc = null;\n\t\t\tcurrentBlendDst = null;\n\t\t\tcurrentBlendEquationAlpha = null;\n\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t} else {\n\n\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t\t}\n\n\t\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\t\tcurrentBlendDst = blendDst;\n\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t}\n\n\tfunction setMaterial( material ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( gl.CULL_FACE )\n\t\t\t: enable( gl.CULL_FACE );\n\n\t\tsetFlipSided( material.side === BackSide );\n\n\t\tmaterial.transparent === true\n\t\t\t? setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha )\n\t\t\t: setBlending( NoBlending );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( gl.CCW );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( gl.CULL_FACE );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( gl.BACK );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.CULL_FACE );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( gl.POLYGON_OFFSET_FILL );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.POLYGON_OFFSET_FILL );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( gl.SCISSOR_TEST );\n\n\t\t} else {\n\n\t\t\tdisable( gl.SCISSOR_TEST );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\tvar maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\tvar maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n\tvar maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n\tvar maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n\tvar maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n\tvar maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\treturn {\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan(\n\t\t\t\t_Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tvar currentSize, currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( device !== null && device.isPresenting ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\tvar renderWidth = eyeParameters.renderWidth;\n\t\t\tvar renderHeight = eyeParameters.renderHeight;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\tcurrentSize = renderer.getSize();\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n\t\t} else if ( scope.enabled ) {\n\n\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t}\n\n\t}\n\n\tif ( typeof window !== 'undefined' ) {\n\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\tthis.standing = false;\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( device === null ) return camera;\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tvar pose = frameData.pose;\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\tcamera.position.fromArray( pose.position );\n\n\t\t} else {\n\n\t\t\tcamera.position.set( 0, 0, 0 );\n\n\t\t}\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\tcamera.quaternion.fromArray( pose.orientation );\n\n\t\t}\n\n\t\tcamera.updateMatrixWorld();\n\n\t\tvar stageParameters = device.stageParameters;\n\n\t\tif ( this.standing && stageParameters ) {\n\n\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\t\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\t\tcamera.matrixWorld.multiply( standingMatrix );\n\t\t\tcamera.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tif ( device.isPresenting === false ) return camera;\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraVR.matrixWorld.copy( camera.matrixWorld );\n\t\tcameraVR.matrixWorldInverse.copy( camera.matrixWorldInverse );\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\tif ( this.standing && stageParameters ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = camera.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\t// HACK @mrdoob\n\t\t// https://github.com/w3c/webvr/issues/203\n\n\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tif ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n\t\t\t\tcameraL.bounds.fromArray( layer.leftBounds );\n\n\t\t\t}\n\n\t\t\tif ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n\t\t\t\tcameraR.bounds.fromArray( layer.rightBounds );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( device && device.isPresenting ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_etc1':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_etc1' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return gl.REPEAT;\n\t\tif ( p === ClampToEdgeWrapping ) return gl.CLAMP_TO_EDGE;\n\t\tif ( p === MirroredRepeatWrapping ) return gl.MIRRORED_REPEAT;\n\n\t\tif ( p === NearestFilter ) return gl.NEAREST;\n\t\tif ( p === NearestMipMapNearestFilter ) return gl.NEAREST_MIPMAP_NEAREST;\n\t\tif ( p === NearestMipMapLinearFilter ) return gl.NEAREST_MIPMAP_LINEAR;\n\n\t\tif ( p === LinearFilter ) return gl.LINEAR;\n\t\tif ( p === LinearMipMapNearestFilter ) return gl.LINEAR_MIPMAP_NEAREST;\n\t\tif ( p === LinearMipMapLinearFilter ) return gl.LINEAR_MIPMAP_LINEAR;\n\n\t\tif ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\n\t\tif ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\tif ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\tif ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\n\n\t\tif ( p === ByteType ) return gl.BYTE;\n\t\tif ( p === ShortType ) return gl.SHORT;\n\t\tif ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\n\t\tif ( p === IntType ) return gl.INT;\n\t\tif ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\n\t\tif ( p === FloatType ) return gl.FLOAT;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return gl.ALPHA;\n\t\tif ( p === RGBFormat ) return gl.RGB;\n\t\tif ( p === RGBAFormat ) return gl.RGBA;\n\t\tif ( p === LuminanceFormat ) return gl.LUMINANCE;\n\t\tif ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\n\t\tif ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\n\t\tif ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\n\n\t\tif ( p === AddEquation ) return gl.FUNC_ADD;\n\t\tif ( p === SubtractEquation ) return gl.FUNC_SUBTRACT;\n\t\tif ( p === ReverseSubtractEquation ) return gl.FUNC_REVERSE_SUBTRACT;\n\n\t\tif ( p === ZeroFactor ) return gl.ZERO;\n\t\tif ( p === OneFactor ) return gl.ONE;\n\t\tif ( p === SrcColorFactor ) return gl.SRC_COLOR;\n\t\tif ( p === OneMinusSrcColorFactor ) return gl.ONE_MINUS_SRC_COLOR;\n\t\tif ( p === SrcAlphaFactor ) return gl.SRC_ALPHA;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return gl.ONE_MINUS_SRC_ALPHA;\n\t\tif ( p === DstAlphaFactor ) return gl.DST_ALPHA;\n\t\tif ( p === OneMinusDstAlphaFactor ) return gl.ONE_MINUS_DST_ALPHA;\n\n\t\tif ( p === DstColorFactor ) return gl.DST_COLOR;\n\t\tif ( p === OneMinusDstColorFactor ) return gl.ONE_MINUS_DST_COLOR;\n\t\tif ( p === SrcAlphaSaturateFactor ) return gl.SRC_ALPHA_SATURATE;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tvar currentRenderList = null;\n\n\tvar spritesArray = [];\n\tvar flaresArray = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\t\t_currentGeometryProgram = '',\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_usedTextureUnits = 0,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3(),\n\n\t\t// info\n\n\t\t_infoMemory = {\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\t\t},\n\n\t\t_infoRender = {\n\n\t\t\tframe: 0,\n\t\t\tcalls: 0,\n\t\t\tvertices: 0,\n\t\t\tfaces: 0,\n\t\t\tpoints: 0\n\n\t\t};\n\n\tthis.info = {\n\n\t\trender: _infoRender,\n\t\tmemory: _infoMemory,\n\t\tprograms: null\n\n\t};\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer\n\t\t};\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow 'Error creating WebGL context with your selected attributes.';\n\n\t\t\t} else {\n\n\t\t\t\tthrow 'Error creating WebGL context.';\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error );\n\n\t}\n\n\tvar extensions, capabilities, state;\n\tvar properties, textures, attributes, geometries, objects, lights;\n\tvar programCache, renderLists;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\tvar flareRenderer, spriteRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\t\textensions.get( 'WEBGL_depth_texture' );\n\t\textensions.get( 'OES_texture_float' );\n\t\textensions.get( 'OES_texture_float_linear' );\n\t\textensions.get( 'OES_texture_half_float' );\n\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\textensions.get( 'OES_standard_derivatives' );\n\t\textensions.get( 'OES_element_index_uint' );\n\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tutils = new WebGLUtils( _gl, extensions );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tstate = new WebGLState( _gl, extensions, utils );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, _infoMemory );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, _infoMemory );\n\t\tobjects = new WebGLObjects( geometries, _infoRender );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\tlights = new WebGLLights();\n\t\trenderLists = new WebGLRenderLists();\n\n\t\tbackground = new WebGLBackground( _this, state, geometries, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, _infoRender );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, _infoRender );\n\n\t\tflareRenderer = new WebGLFlareRenderer( _this, _gl, state, textures, capabilities );\n\t\tspriteRenderer = new WebGLSpriteRenderer( _this, _gl, state, textures, capabilities );\n\n\t\t_this.info.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = new WebVRManager( _this );\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tvar device = vr.getDevice();\n\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width * _pixelRatio,\n\t\t\theight: _height * _pixelRatio\n\t\t};\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewport.set( x, _height - y - height, width, height );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_scissor.set( x, _height - y - height, width, height );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\tthis.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\n\t\tvr.dispose();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program, material ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program, material );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program, material ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\n\t\t\tif ( ! material.isMeshPhongMaterial &&\n\t\t\t\t! material.isMeshStandardMaterial &&\n\t\t\t\t! material.isMeshNormalMaterial &&\n\t\t\t\tmaterial.flatShading === true ) {\n\n\t\t\t\tfor ( var i = 0, l = object.count * 3; i < l; i += 9 ) {\n\n\t\t\t\t\tvar array = object.normalArray;\n\n\t\t\t\t\tvar nx = ( array[ i + 0 ] + array[ i + 3 ] + array[ i + 6 ] ) / 3;\n\t\t\t\t\tvar ny = ( array[ i + 1 ] + array[ i + 4 ] + array[ i + 7 ] ) / 3;\n\t\t\t\t\tvar nz = ( array[ i + 2 ] + array[ i + 5 ] + array[ i + 8 ] ) / 3;\n\n\t\t\t\t\tarray[ i + 0 ] = nx;\n\t\t\t\t\tarray[ i + 1 ] = ny;\n\t\t\t\t\tarray[ i + 2 ] = nz;\n\n\t\t\t\t\tarray[ i + 3 ] = nx;\n\t\t\t\t\tarray[ i + 4 ] = ny;\n\t\t\t\t\tarray[ i + 5 ] = nz;\n\n\t\t\t\t\tarray[ i + 6 ] = nx;\n\t\t\t\t\tarray[ i + 7 ] = ny;\n\t\t\t\t\tarray[ i + 8 ] = nz;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs && material.map ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors && material.vertexColors !== NoColors ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tstate.setMaterial( material );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\t\tvar geometryProgram = geometry.id + '_' + program.id + '_' + ( material.wireframe === true );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( geometryProgram !== _currentGeometryProgram ) {\n\n\t\t\t_currentGeometryProgram = geometryProgram;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = 0;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLES );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_STRIP );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_FAN );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( _gl.LINE_LOOP );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( _gl.POINTS );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry, startIndex ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( startIndex === undefined ) startIndex = 0;\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, ( startIndex * stride + offset ) * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, startIndex * size * bytesPerElement );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tlightsArray.push( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tshadowsArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar isAnimating = false;\n\tvar onAnimationFrame = null;\n\n\tfunction start() {\n\n\t\tif ( isAnimating ) return;\n\n\t\tvar device = vr.getDevice();\n\t\t\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tdevice.requestAnimationFrame( loop );\n\n\t\t} else {\n\n\t\t\twindow.requestAnimationFrame( loop );\n\n\t\t}\n\n\t\tisAnimating = true;\n\n\t}\n\n\tfunction loop( time ) {\n\n\t\tif ( onAnimationFrame !== null ) onAnimationFrame( time );\n\n\t\tvar device = vr.getDevice();\n\t\t\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tdevice.requestAnimationFrame( loop );\n\n\t\t} else {\n\n\t\t\twindow.requestAnimationFrame( loop );\n\n\t\t}\n\n\t}\n\n\tthis.animate = function ( callback ) {\n\n\t\tonAnimationFrame = callback;\n\t\tstart();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram = '';\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t\tspritesArray.length = 0;\n\t\tflaresArray.length = 0;\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\t_infoRender.frame ++;\n\t\t_infoRender.calls = 0;\n\t\t_infoRender.vertices = 0;\n\t\t_infoRender.faces = 0;\n\t\t_infoRender.points = 0;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = null;\n\n\t\t}\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t// custom renderers\n\n\t\tspriteRenderer.render( spritesArray, scene, camera );\n\t\tflareRenderer.render( flaresArray, scene, camera, _currentViewport );\n\n\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\tif ( renderTarget ) {\n\n\t\t\ttextures.updateRenderTargetMipmap( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t};\n\n\t/*\n\t// TODO Duplicated code (Frustum)\n\n\tvar _sphere = new Sphere();\n\n\tfunction isObjectViewable( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null )\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere ).\n\t\tapplyMatrix4( object.matrixWorld );\n\n\t\treturn isSphereViewable( _sphere );\n\n\t}\n\n\tfunction isSpriteViewable( sprite ) {\n\n\t\t_sphere.center.set( 0, 0, 0 );\n\t\t_sphere.radius = 0.7071067811865476;\n\t\t_sphere.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn isSphereViewable( _sphere );\n\n\t}\n\n\tfunction isSphereViewable( sphere ) {\n\n\t\tif ( ! _frustum.intersectsSphere( sphere ) ) return false;\n\n\t\tvar numPlanes = _clipping.numPlanes;\n\n\t\tif ( numPlanes === 0 ) return true;\n\n\t\tvar planes = _this.clippingPlanes,\n\n\t\t\tcenter = sphere.center,\n\t\t\tnegRad = - sphere.radius,\n\t\t\ti = 0;\n\n\t\tdo {\n\n\t\t\t// out when deeper than radius in the negative halfspace\n\t\t\tif ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\n\n\t\t} while ( ++ i !== numPlanes );\n\n\t\treturn true;\n\n\t}\n\t*/\n\n\tfunction projectObject( object, camera, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tlightsArray.push( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tshadowsArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tspritesArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isLensFlare ) {\n\n\t\t\t\tflaresArray.push( object );\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tvar bounds = camera2.bounds;\n\n\t\t\t\t\t\tvar x = bounds.x * _width;\n\t\t\t\t\t\tvar y = bounds.y * _height;\n\t\t\t\t\t\tvar width = bounds.z * _width;\n\t\t\t\t\t\tvar height = bounds.w * _height;\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram = '';\n\n\t\t\trenderObjectImmediate( object, program, material );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.lightsHash = lights.state.hash;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && materialProperties.lightsHash !== lights.state.hash ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || camera !== _currentCamera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\t// Avoid unneeded uniform updates per ArrayCamera's sub-camera\n\n\t\t\tif ( _currentCamera !== ( _currentArrayCamera || camera ) ) {\n\n\t\t\t\t_currentCamera = ( _currentArrayCamera || camera );\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value = material.color;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltcMat !== undefined ) m_uniforms.ltcMat.value = UniformsLib.LTC_MAT_TEXTURE;\n\t\t\tif ( m_uniforms.ltcMag !== undefined ) m_uniforms.ltcMag.value = UniformsLib.LTC_MAG_TEXTURE;\n\n\t\t\tWebGLUniforms.upload(\n\t\t\t\t_gl, materialProperties.uniformsList, m_uniforms, _this );\n\n\t\t}\n\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = ( ! ( material.envMap && material.envMap.isCubeTexture ) ) ? 1 : - 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tvar offset = uvScaleMap.offset;\n\t\t\t\tvar repeat = uvScaleMap.repeat;\n\t\t\t\tvar rotation = uvScaleMap.rotation;\n\t\t\t\tvar center = uvScaleMap.center;\n\n\t\t\t\tuvScaleMap.matrix.setUvTransform( offset.x, offset.y, repeat.x, repeat.y, rotation, center.x, center.y );\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tvar offset = material.map.offset;\n\t\t\t\tvar repeat = material.map.repeat;\n\t\t\t\tvar rotation = material.map.rotation;\n\t\t\t\tvar center = material.map.center;\n\n\t\t\t\tmaterial.map.matrix.setUvTransform( offset.x, offset.y, repeat.x, repeat.y, rotation, center.x, center.y );\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value = material.specular;\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t// GL state setting\n\n\tthis.setFaceCulling = function ( cullFace, frontFaceDirection ) {\n\n\t\tstate.setCullFace( cullFace );\n\t\tstate.setFlipSided( frontFaceDirection === FrontFaceDirectionCW );\n\n\t};\n\n\t// Textures\n\n\tfunction allocTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tthis.allocTextureUnit = allocTextureUnit;\n\n\t// this.setTexture2D = setTexture2D;\n\tthis.setTexture2D = ( function () {\n\n\t\tvar warned = false;\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture2D( texture, slot ) {\n\n\t\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTexture( texture, slot ) {\n\n\t\t\tif ( ! warned ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n\t\t\t\twarned = true;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTextureCube = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTextureCube( texture, slot ) {\n\n\t\t\t// backwards compatibility: peel texture.texture\n\t\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t\t// TODO: unify these code paths\n\t\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t\t// this function alone should take care of cube textures\n\t\t\t\ttextures.setTextureCube( texture, slot );\n\n\t\t\t} else {\n\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\n\t\t\t\ttextures.setTextureCubeDynamic( texture, slot );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = null;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && extensions.get( 'EXT_color_buffer_half_float' ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nFogExp2.prototype.clone = function () {\n\n\treturn new FogExp2( this.color.getHex(), this.density );\n\n};\n\nFogExp2.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'FogExp2',\n\t\tcolor: this.color.getHex(),\n\t\tdensity: this.density\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n\treturn new Fog( this.color.getHex(), this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'Fog',\n\t\tcolor: this.color.getHex(),\n\t\tnear: this.near,\n\t\tfar: this.far\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction LensFlare( texture, size, distance, blending, color ) {\n\n\tObject3D.call( this );\n\n\tthis.lensFlares = [];\n\n\tthis.positionScreen = new Vector3();\n\tthis.customUpdateCallback = undefined;\n\n\tif ( texture !== undefined ) {\n\n\t\tthis.add( texture, size, distance, blending, color );\n\n\t}\n\n}\n\nLensFlare.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LensFlare,\n\n\tisLensFlare: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.positionScreen.copy( source.positionScreen );\n\t\tthis.customUpdateCallback = source.customUpdateCallback;\n\n\t\tfor ( var i = 0, l = source.lensFlares.length; i < l; i ++ ) {\n\n\t\t\tthis.lensFlares.push( source.lensFlares[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( texture, size, distance, blending, color, opacity ) {\n\n\t\tif ( size === undefined ) size = - 1;\n\t\tif ( distance === undefined ) distance = 0;\n\t\tif ( opacity === undefined ) opacity = 1;\n\t\tif ( color === undefined ) color = new Color( 0xffffff );\n\t\tif ( blending === undefined ) blending = NormalBlending;\n\n\t\tdistance = Math.min( distance, Math.max( 0, distance ) );\n\n\t\tthis.lensFlares.push( {\n\t\t\ttexture: texture,\t// THREE.Texture\n\t\t\tsize: size, \t\t// size in pixels (-1 = use texture.width)\n\t\t\tdistance: distance, \t// distance (0-1) from light source (0=at light source)\n\t\t\tx: 0, y: 0, z: 0,\t// screen position (-1 => 1) z = 0 is in front z = 1 is back\n\t\t\tscale: 1, \t\t// scale\n\t\t\trotation: 0, \t\t// rotation\n\t\t\topacity: opacity,\t// opacity\n\t\t\tcolor: color,\t\t// color\n\t\t\tblending: blending\t// blending\n\t\t} );\n\n\t},\n\n\t/*\n\t * Update lens flares update positions on all flares based on the screen position\n\t * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n\t */\n\n\tupdateLensFlares: function () {\n\n\t\tvar f, fl = this.lensFlares.length;\n\t\tvar flare;\n\t\tvar vecX = - this.positionScreen.x * 2;\n\t\tvar vecY = - this.positionScreen.y * 2;\n\n\t\tfor ( f = 0; f < fl; f ++ ) {\n\n\t\t\tflare = this.lensFlares[ f ];\n\n\t\t\tflare.x = this.positionScreen.x + vecX * flare.distance;\n\t\t\tflare.y = this.positionScreen.y + vecY * flare.distance;\n\n\t\t\tflare.wantedRotation = flare.x * Math.PI * 0.25;\n\t\t\tflare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *\tuvOffset: new THREE.Vector2(),\n *\tuvScale: new THREE.Vector2()\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: ( function () {\n\n\t\tvar intersectPoint = new Vector3();\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldScale = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tworldPosition.setFromMatrixPosition( this.matrixWorld );\n\t\t\traycaster.ray.closestPointToPoint( worldPosition, intersectPoint );\n\n\t\t\tworldScale.setFromMatrixScale( this.matrixWorld );\n\t\t\tvar guessSizeSq = worldScale.x * worldScale.y / 4;\n\n\t\t\tif ( worldPosition.distanceToSquared( intersectPoint ) > guessSizeSq ) return;\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\n\t\t\t} );\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar matrixPosition = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t};\n\n\t}() ),\n\n\tupdate: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar levels = this.levels;\n\n\t\t\tif ( levels.length > 1 ) {\n\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: ( function () {\n\n\t\tvar offsetMatrix = new Matrix4();\n\t\tvar identityMatrix = new Matrix4();\n\n\t\treturn function update() {\n\n\t\t\tvar bones = this.bones;\n\t\t\tvar boneInverses = this.boneInverses;\n\t\t\tvar boneMatrices = this.boneMatrices;\n\t\t\tvar boneTexture = this.boneTexture;\n\n\t\t\t// flatten bone matrices to array\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\t// compute the offset between the current and the original transform\n\n\t\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t\toffsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t\t}\n\n\t\t\tif ( boneTexture !== undefined ) {\n\n\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t}\n\n\t\t};\n\n\t} )(),\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n\tvar bones = this.initBones();\n\tvar skeleton = new Skeleton( bones );\n\n\tthis.bind( skeleton, this.matrixWorld );\n\n\tthis.normalizeSkinWeights();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tinitBones: function () {\n\n\t\tvar bones = [], bone, gbone;\n\t\tvar i, il;\n\n\t\tif ( this.geometry && this.geometry.bones !== undefined ) {\n\n\t\t\t// first, create array of 'Bone' objects from geometry data\n\n\t\t\tfor ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n\t\t\t\tgbone = this.geometry.bones[ i ];\n\n\t\t\t\t// create new 'Bone' object\n\n\t\t\t\tbone = new Bone();\n\t\t\t\tbones.push( bone );\n\n\t\t\t\t// apply values\n\n\t\t\t\tbone.name = gbone.name;\n\t\t\t\tbone.position.fromArray( gbone.pos );\n\t\t\t\tbone.quaternion.fromArray( gbone.rotq );\n\t\t\t\tif ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\n\n\t\t\t}\n\n\t\t\t// second, create bone hierarchy\n\n\t\t\tfor ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n\t\t\t\tgbone = this.geometry.bones[ i ];\n\n\t\t\t\tif ( ( gbone.parent !== - 1 ) && ( gbone.parent !== null ) && ( bones[ gbone.parent ] !== undefined ) ) {\n\n\t\t\t\t\t// subsequent bones in the hierarchy\n\n\t\t\t\t\tbones[ gbone.parent ].add( bones[ i ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// topmost bone, immediate child of the skinned mesh\n\n\t\t\t\t\tthis.add( bones[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// now the bones are part of the scene graph and children of the skinned mesh.\n\t\t// let's update the corresponding matrices\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn bones;\n\n\t},\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar scale, i;\n\n\t\tif ( this.geometry && this.geometry.isGeometry ) {\n\n\t\t\tfor ( i = 0; i < this.geometry.skinWeights.length; i ++ ) {\n\n\t\t\t\tvar sw = this.geometry.skinWeights[ i ];\n\n\t\t\t\tscale = 1.0 / sw.manhattanLength();\n\n\t\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\t\tsw.multiplyScalar( scale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsw.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.geometry && this.geometry.isBufferGeometry ) {\n\n\t\t\tvar vec = new Vector4();\n\n\t\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\t\tfor ( i = 0; i < skinWeight.count; i ++ ) {\n\n\t\t\t\tvec.x = skinWeight.getX( i );\n\t\t\t\tvec.y = skinWeight.getY( i );\n\t\t\t\tvec.z = skinWeight.getZ( i );\n\t\t\t\tvec.w = skinWeight.getW( i );\n\n\t\t\t\tscale = 1.0 / vec.manhattanLength();\n\n\t\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\t\tvec.multiplyScalar( scale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t\t}\n\n\t\t\t\tskinWeight.setXYZW( i, vec.x, vec.y, vec.z, vec.w );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\n\t\treturn new LineSegments( geometry, material );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\t\t\tvar precisionSq = precision * precision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tvar intersectPoint = ray.closestPointToPoint( point );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.generateMipmaps = false;\n\n\tvar scope = this;\n\n\tfunction update() {\n\n\t\tvar video = scope.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tscope.needsUpdate = true;\n\n\t\t}\n\n\t\trequestAnimationFrame( update );\n\n\t}\n\n\trequestAnimationFrame( update );\n\n}\n\nVideoTexture.prototype = Object.create( Texture.prototype );\nVideoTexture.prototype.constructor = VideoTexture;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tp0 = func( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tp1 = func( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tp1 = func( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tp1 = func( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tp1 = func( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tappplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction appplyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\ttriangulate: ( function () {\n\n\t\t/**\n\t\t * This code is a quick port of code written in C++ which was submitted to\n\t\t * flipcode.com by John W. Ratcliff  // July 22, 2000\n\t\t * See original code and more information here:\n\t\t * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n\t\t *\n\t\t * ported to actionscript by Zevan Rosser\n\t\t * www.actionsnippet.com\n\t\t *\n\t\t * ported to javascript by Joshua Koo\n\t\t * http://www.lab4games.net/zz85/blog\n\t\t *\n\t\t */\n\n\t\tfunction snip( contour, u, v, w, n, verts ) {\n\n\t\t\tvar p;\n\t\t\tvar ax, ay, bx, by;\n\t\t\tvar cx, cy, px, py;\n\n\t\t\tax = contour[ verts[ u ] ].x;\n\t\t\tay = contour[ verts[ u ] ].y;\n\n\t\t\tbx = contour[ verts[ v ] ].x;\n\t\t\tby = contour[ verts[ v ] ].y;\n\n\t\t\tcx = contour[ verts[ w ] ].x;\n\t\t\tcy = contour[ verts[ w ] ].y;\n\n\t\t\tif ( ( bx - ax ) * ( cy - ay ) - ( by - ay ) * ( cx - ax ) <= 0 ) return false;\n\n\t\t\tvar aX, aY, bX, bY, cX, cY;\n\t\t\tvar apx, apy, bpx, bpy, cpx, cpy;\n\t\t\tvar cCROSSap, bCROSScp, aCROSSbp;\n\n\t\t\taX = cx - bx; aY = cy - by;\n\t\t\tbX = ax - cx; bY = ay - cy;\n\t\t\tcX = bx - ax; cY = by - ay;\n\n\t\t\tfor ( p = 0; p < n; p ++ ) {\n\n\t\t\t\tpx = contour[ verts[ p ] ].x;\n\t\t\t\tpy = contour[ verts[ p ] ].y;\n\n\t\t\t\tif ( ( ( px === ax ) && ( py === ay ) ) ||\n\t\t\t\t\t ( ( px === bx ) && ( py === by ) ) ||\n\t\t\t\t\t ( ( px === cx ) && ( py === cy ) ) )\tcontinue;\n\n\t\t\t\tapx = px - ax; apy = py - ay;\n\t\t\t\tbpx = px - bx; bpy = py - by;\n\t\t\t\tcpx = px - cx; cpy = py - cy;\n\n\t\t\t\t// see if p is inside triangle abc\n\n\t\t\t\taCROSSbp = aX * bpy - aY * bpx;\n\t\t\t\tcCROSSap = cX * apy - cY * apx;\n\t\t\t\tbCROSScp = bX * cpy - bY * cpx;\n\n\t\t\t\tif ( ( aCROSSbp >= - Number.EPSILON ) && ( bCROSScp >= - Number.EPSILON ) && ( cCROSSap >= - Number.EPSILON ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// takes in an contour array and returns\n\n\t\treturn function triangulate( contour, indices ) {\n\n\t\t\tvar n = contour.length;\n\n\t\t\tif ( n < 3 ) return null;\n\n\t\t\tvar result = [],\n\t\t\t\tverts = [],\n\t\t\t\tvertIndices = [];\n\n\t\t\t/* we want a counter-clockwise polygon in verts */\n\n\t\t\tvar u, v, w;\n\n\t\t\tif ( ShapeUtils.area( contour ) > 0.0 ) {\n\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = v;\n\n\t\t\t} else {\n\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = ( n - 1 ) - v;\n\n\t\t\t}\n\n\t\t\tvar nv = n;\n\n\t\t\t/*  remove nv - 2 vertices, creating 1 triangle every time */\n\n\t\t\tvar count = 2 * nv; /* error detection */\n\n\t\t\tfor ( v = nv - 1; nv > 2; ) {\n\n\t\t\t\t/* if we loop, it is probably a non-simple polygon */\n\n\t\t\t\tif ( ( count -- ) <= 0 ) {\n\n\t\t\t\t\t//** Triangulate: ERROR - probable bad polygon!\n\n\t\t\t\t\t//throw ( \"Warning, unable to triangulate polygon!\" );\n\t\t\t\t\t//return null;\n\t\t\t\t\t// Sometimes warning is fine, especially polygons are triangulated in reverse.\n\t\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()' );\n\n\t\t\t\t\tif ( indices ) return vertIndices;\n\t\t\t\t\treturn result;\n\n\t\t\t\t}\n\n\t\t\t\t/* three consecutive vertices in current polygon, <u,v,w> */\n\n\t\t\t\tu = v; if ( nv <= u ) u = 0; /* previous */\n\t\t\t\tv = u + 1; if ( nv <= v ) v = 0; /* new v    */\n\t\t\t\tw = v + 1; if ( nv <= w ) w = 0; /* next     */\n\n\t\t\t\tif ( snip( contour, u, v, w, nv, verts ) ) {\n\n\t\t\t\t\tvar a, b, c, s, t;\n\n\t\t\t\t\t/* true names of the vertices */\n\n\t\t\t\t\ta = verts[ u ];\n\t\t\t\t\tb = verts[ v ];\n\t\t\t\t\tc = verts[ w ];\n\n\t\t\t\t\t/* output Triangle */\n\n\t\t\t\t\tresult.push( [ contour[ a ],\n\t\t\t\t\t\tcontour[ b ],\n\t\t\t\t\t\tcontour[ c ] ] );\n\n\n\t\t\t\t\tvertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\n\n\t\t\t\t\t/* remove v from the remaining polygon */\n\n\t\t\t\t\tfor ( s = v, t = v + 1; t < nv; s ++, t ++ ) {\n\n\t\t\t\t\t\tverts[ s ] = verts[ t ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnv --;\n\n\t\t\t\t\t/* reset error detection counter */\n\n\t\t\t\t\tcount = 2 * nv;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( indices ) return vertIndices;\n\t\t\treturn result;\n\n\t\t};\n\n\t} )(),\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tfunction removeDupEndPts( points ) {\n\n\t\t\tvar l = points.length;\n\n\t\t\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\t\tpoints.pop();\n\n\t\t\t}\n\n\t\t}\n\n\t\tremoveDupEndPts( contour );\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfunction point_in_segment_2D_colin( inSegPt1, inSegPt2, inOtherPt ) {\n\n\t\t\t// inOtherPt needs to be collinear to the inSegment\n\t\t\tif ( inSegPt1.x !== inSegPt2.x ) {\n\n\t\t\t\tif ( inSegPt1.x < inSegPt2.x ) {\n\n\t\t\t\t\treturn\t( ( inSegPt1.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt2.x ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn\t( ( inSegPt2.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt1.x ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( inSegPt1.y < inSegPt2.y ) {\n\n\t\t\t\t\treturn\t( ( inSegPt1.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt2.y ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn\t( ( inSegPt2.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt1.y ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction intersect_segments_2D( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs ) {\n\n\t\t\tvar seg1dx = inSeg1Pt2.x - inSeg1Pt1.x, seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\n\t\t\tvar seg2dx = inSeg2Pt2.x - inSeg2Pt1.x, seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\n\n\t\t\tvar seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\n\t\t\tvar seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\n\n\t\t\tvar limit\t\t= seg1dy * seg2dx - seg1dx * seg2dy;\n\t\t\tvar perpSeg1\t= seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n\n\t\t\tif ( Math.abs( limit ) > Number.EPSILON ) {\n\n\t\t\t\t// not parallel\n\n\t\t\t\tvar perpSeg2;\n\t\t\t\tif ( limit > 0 ) {\n\n\t\t\t\t\tif ( ( perpSeg1 < 0 ) || ( perpSeg1 > limit ) ) \t\treturn [];\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\tif ( ( perpSeg2 < 0 ) || ( perpSeg2 > limit ) ) \t\treturn [];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ( perpSeg1 > 0 ) || ( perpSeg1 < limit ) ) \t\treturn [];\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\tif ( ( perpSeg2 > 0 ) || ( perpSeg2 < limit ) ) \t\treturn [];\n\n\t\t\t\t}\n\n\t\t\t\t// i.e. to reduce rounding errors\n\t\t\t\t// intersection at endpoint of segment#1?\n\t\t\t\tif ( perpSeg2 === 0 ) {\n\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\treturn [ inSeg1Pt1 ];\n\n\t\t\t\t}\n\t\t\t\tif ( perpSeg2 === limit ) {\n\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\treturn [ inSeg1Pt2 ];\n\n\t\t\t\t}\n\t\t\t\t// intersection at endpoint of segment#2?\n\t\t\t\tif ( perpSeg1 === 0 )\t\treturn [ inSeg2Pt1 ];\n\t\t\t\tif ( perpSeg1 === limit )\treturn [ inSeg2Pt2 ];\n\n\t\t\t\t// return real intersection point\n\t\t\t\tvar factorSeg1 = perpSeg2 / limit;\n\t\t\t\treturn\t[ { x: inSeg1Pt1.x + factorSeg1 * seg1dx, y: inSeg1Pt1.y + factorSeg1 * seg1dy } ];\n\n\t\t\t} else {\n\n\t\t\t\t// parallel or collinear\n\t\t\t\tif ( ( perpSeg1 !== 0 ) ||\n\t\t\t\t\t ( seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy ) ) \t\t\treturn [];\n\n\t\t\t\t// they are collinear or degenerate\n\t\t\t\tvar seg1Pt = ( ( seg1dx === 0 ) && ( seg1dy === 0 ) );\t// segment1 is just a point?\n\t\t\t\tvar seg2Pt = ( ( seg2dx === 0 ) && ( seg2dy === 0 ) );\t// segment2 is just a point?\n\t\t\t\t// both segments are points\n\t\t\t\tif ( seg1Pt && seg2Pt ) {\n\n\t\t\t\t\tif ( ( inSeg1Pt1.x !== inSeg2Pt1.x ) ||\n\t\t\t\t\t\t ( inSeg1Pt1.y !== inSeg2Pt1.y ) )\t\treturn [];\t// they are distinct  points\n\t\t\t\t\treturn [ inSeg1Pt1 ];\t// they are the same point\n\n\t\t\t\t}\n\t\t\t\t// segment#1  is a single point\n\t\t\t\tif ( seg1Pt ) {\n\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg2Pt1, inSeg2Pt2, inSeg1Pt1 ) )\t\treturn [];\t\t// but not in segment#2\n\t\t\t\t\treturn [ inSeg1Pt1 ];\n\n\t\t\t\t}\n\t\t\t\t// segment#2  is a single point\n\t\t\t\tif ( seg2Pt ) {\n\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1 ) )\t\treturn [];\t\t// but not in segment#1\n\t\t\t\t\treturn [ inSeg2Pt1 ];\n\n\t\t\t\t}\n\n\t\t\t\t// they are collinear segments, which might overlap\n\t\t\t\tvar seg1min, seg1max, seg1minVal, seg1maxVal;\n\t\t\t\tvar seg2min, seg2max, seg2minVal, seg2maxVal;\n\t\t\t\tif ( seg1dx !== 0 ) {\n\n\t\t\t\t\t// the segments are NOT on a vertical line\n\t\t\t\t\tif ( inSeg1Pt1.x < inSeg1Pt2.x ) {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( inSeg2Pt1.x < inSeg2Pt2.x ) {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// the segments are on a vertical line\n\t\t\t\t\tif ( inSeg1Pt1.y < inSeg1Pt2.y ) {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( inSeg2Pt1.y < inSeg2Pt2.y ) {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif ( seg1minVal <= seg2minVal ) {\n\n\t\t\t\t\tif ( seg1maxVal < seg2minVal )\treturn [];\n\t\t\t\t\tif ( seg1maxVal === seg2minVal )\t{\n\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\treturn [ seg2min ];\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg2min, seg1max ];\n\t\t\t\t\treturn\t[ seg2min, seg2max ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( seg1minVal > seg2maxVal )\treturn [];\n\t\t\t\t\tif ( seg1minVal === seg2maxVal )\t{\n\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\treturn [ seg1min ];\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg1min, seg1max ];\n\t\t\t\t\treturn\t[ seg1min, seg2max ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction isPointInsideAngle( inVertex, inLegFromPt, inLegToPt, inOtherPt ) {\n\n\t\t\t// The order of legs is important\n\n\t\t\t// translation of all points, so that Vertex is at (0,0)\n\t\t\tvar legFromPtX\t= inLegFromPt.x - inVertex.x, legFromPtY = inLegFromPt.y - inVertex.y;\n\t\t\tvar legToPtX\t= inLegToPt.x\t- inVertex.x, legToPtY = inLegToPt.y\t- inVertex.y;\n\t\t\tvar otherPtX\t= inOtherPt.x\t- inVertex.x, otherPtY = inOtherPt.y\t- inVertex.y;\n\n\t\t\t// main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n\t\t\tvar from2toAngle\t= legFromPtX * legToPtY - legFromPtY * legToPtX;\n\t\t\tvar from2otherAngle\t= legFromPtX * otherPtY - legFromPtY * otherPtX;\n\n\t\t\tif ( Math.abs( from2toAngle ) > Number.EPSILON ) {\n\n\t\t\t\t// angle != 180 deg.\n\n\t\t\t\tvar other2toAngle\t\t= otherPtX * legToPtY - otherPtY * legToPtX;\n\t\t\t\t// console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\n\n\t\t\t\tif ( from2toAngle > 0 ) {\n\n\t\t\t\t\t// main angle < 180 deg.\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) && ( other2toAngle >= 0 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// main angle > 180 deg.\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) || ( other2toAngle >= 0 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// angle == 180 deg.\n\t\t\t\t// console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\n\t\t\t\treturn\t( from2otherAngle > 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tfunction removeHoles( contour, holes ) {\n\n\t\t\tvar shape = contour.concat(); // work on this shape\n\t\t\tvar hole;\n\n\t\t\tfunction isCutLineInsideAngles( inShapeIdx, inHoleIdx ) {\n\n\t\t\t\t// Check if hole point lies within angle around shape point\n\t\t\t\tvar lastShapeIdx = shape.length - 1;\n\n\t\t\t\tvar prevShapeIdx = inShapeIdx - 1;\n\t\t\t\tif ( prevShapeIdx < 0 )\t\t\tprevShapeIdx = lastShapeIdx;\n\n\t\t\t\tvar nextShapeIdx = inShapeIdx + 1;\n\t\t\t\tif ( nextShapeIdx > lastShapeIdx )\tnextShapeIdx = 0;\n\n\t\t\t\tvar insideAngle = isPointInsideAngle( shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ] );\n\t\t\t\tif ( ! insideAngle ) {\n\n\t\t\t\t\t// console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\n\t\t\t\t\treturn\tfalse;\n\n\t\t\t\t}\n\n\t\t\t\t// Check if shape point lies within angle around hole point\n\t\t\t\tvar lastHoleIdx = hole.length - 1;\n\n\t\t\t\tvar prevHoleIdx = inHoleIdx - 1;\n\t\t\t\tif ( prevHoleIdx < 0 )\t\t\tprevHoleIdx = lastHoleIdx;\n\n\t\t\t\tvar nextHoleIdx = inHoleIdx + 1;\n\t\t\t\tif ( nextHoleIdx > lastHoleIdx )\tnextHoleIdx = 0;\n\n\t\t\t\tinsideAngle = isPointInsideAngle( hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ] );\n\t\t\t\tif ( ! insideAngle ) {\n\n\t\t\t\t\t// console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\n\t\t\t\t\treturn\tfalse;\n\n\t\t\t\t}\n\n\t\t\t\treturn\ttrue;\n\n\t\t\t}\n\n\t\t\tfunction intersectsShapeEdge( inShapePt, inHolePt ) {\n\n\t\t\t\t// checks for intersections with shape edges\n\t\t\t\tvar sIdx, nextIdx, intersection;\n\t\t\t\tfor ( sIdx = 0; sIdx < shape.length; sIdx ++ ) {\n\n\t\t\t\t\tnextIdx = sIdx + 1; nextIdx %= shape.length;\n\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true );\n\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\n\t\t\t\t}\n\n\t\t\t\treturn\tfalse;\n\n\t\t\t}\n\n\t\t\tvar indepHoles = [];\n\n\t\t\tfunction intersectsHoleEdge( inShapePt, inHolePt ) {\n\n\t\t\t\t// checks for intersections with hole edges\n\t\t\t\tvar ihIdx, chkHole,\n\t\t\t\t\thIdx, nextIdx, intersection;\n\t\t\t\tfor ( ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++ ) {\n\n\t\t\t\t\tchkHole = holes[ indepHoles[ ihIdx ] ];\n\t\t\t\t\tfor ( hIdx = 0; hIdx < chkHole.length; hIdx ++ ) {\n\n\t\t\t\t\t\tnextIdx = hIdx + 1; nextIdx %= chkHole.length;\n\t\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true );\n\t\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn\tfalse;\n\n\t\t\t}\n\n\t\t\tvar holeIndex, shapeIndex,\n\t\t\t\tshapePt, holePt,\n\t\t\t\tholeIdx, cutKey, failedCuts = [],\n\t\t\t\ttmpShape1, tmpShape2,\n\t\t\t\ttmpHole1, tmpHole2;\n\n\t\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tindepHoles.push( h );\n\n\t\t\t}\n\n\t\t\tvar minShapeIndex = 0;\n\t\t\tvar counter = indepHoles.length * 2;\n\t\t\twhile ( indepHoles.length > 0 ) {\n\n\t\t\t\tcounter --;\n\t\t\t\tif ( counter < 0 ) {\n\n\t\t\t\t\tconsole.log( 'THREE.ShapeUtils: Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!' );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// search for shape-vertex and hole-vertex,\n\t\t\t\t// which can be connected without intersections\n\t\t\t\tfor ( shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++ ) {\n\n\t\t\t\t\tshapePt = shape[ shapeIndex ];\n\t\t\t\t\tholeIndex\t= - 1;\n\n\t\t\t\t\t// search for hole which can be reached without intersections\n\t\t\t\t\tfor ( var h = 0; h < indepHoles.length; h ++ ) {\n\n\t\t\t\t\t\tholeIdx = indepHoles[ h ];\n\n\t\t\t\t\t\t// prevent multiple checks\n\t\t\t\t\t\tcutKey = shapePt.x + ':' + shapePt.y + ':' + holeIdx;\n\t\t\t\t\t\tif ( failedCuts[ cutKey ] !== undefined )\t\t\tcontinue;\n\n\t\t\t\t\t\thole = holes[ holeIdx ];\n\t\t\t\t\t\tfor ( var h2 = 0; h2 < hole.length; h2 ++ ) {\n\n\t\t\t\t\t\t\tholePt = hole[ h2 ];\n\t\t\t\t\t\t\tif ( ! isCutLineInsideAngles( shapeIndex, h2 ) )\t\tcontinue;\n\t\t\t\t\t\t\tif ( intersectsShapeEdge( shapePt, holePt ) )\t\tcontinue;\n\t\t\t\t\t\t\tif ( intersectsHoleEdge( shapePt, holePt ) )\t\tcontinue;\n\n\t\t\t\t\t\t\tholeIndex = h2;\n\t\t\t\t\t\t\tindepHoles.splice( h, 1 );\n\n\t\t\t\t\t\t\ttmpShape1 = shape.slice( 0, shapeIndex + 1 );\n\t\t\t\t\t\t\ttmpShape2 = shape.slice( shapeIndex );\n\t\t\t\t\t\t\ttmpHole1 = hole.slice( holeIndex );\n\t\t\t\t\t\t\ttmpHole2 = hole.slice( 0, holeIndex + 1 );\n\n\t\t\t\t\t\t\tshape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\n\n\t\t\t\t\t\t\tminShapeIndex = shapeIndex;\n\n\t\t\t\t\t\t\t// Debug only, to show the selected cuts\n\t\t\t\t\t\t\t// glob_CutLines.push( [ shapePt, holePt ] );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n\t\t\t\t\t\tfailedCuts[ cutKey ] = true;\t\t\t// remember failure\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn shape; \t\t\t/* shape with no holes */\n\n\t\t}\n\n\n\t\tvar i, il, f, face,\n\t\t\tkey, index,\n\t\t\tallPointsMap = {};\n\n\t\t// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\n\t\tvar allpoints = contour.concat();\n\n\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tArray.prototype.push.apply( allpoints, holes[ h ] );\n\n\t\t}\n\n\t\t//console.log( \"allpoints\",allpoints, allpoints.length );\n\n\t\t// prepare all points map\n\n\t\tfor ( i = 0, il = allpoints.length; i < il; i ++ ) {\n\n\t\t\tkey = allpoints[ i ].x + ':' + allpoints[ i ].y;\n\n\t\t\tif ( allPointsMap[ key ] !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Duplicate point', key, i );\n\n\t\t\t}\n\n\t\t\tallPointsMap[ key ] = i;\n\n\t\t}\n\n\t\t// remove holes by cutting paths to holes and adding them to the shape\n\t\tvar shapeWithoutHoles = removeHoles( contour, holes );\n\n\t\tvar triangles = ShapeUtils.triangulate( shapeWithoutHoles, false ); // True returns indices for points of spooled shape\n\t\t//console.log( \"triangles\",triangles, triangles.length );\n\n\t\t// check all face vertices against all points map\n\n\t\tfor ( i = 0, il = triangles.length; i < il; i ++ ) {\n\n\t\t\tface = triangles[ i ];\n\n\t\t\tfor ( f = 0; f < 3; f ++ ) {\n\n\t\t\t\tkey = face[ f ].x + ':' + face[ f ].y;\n\n\t\t\t\tindex = allPointsMap[ key ];\n\n\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\tface[ f ] = index;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn triangles.concat();\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *  frames: <Object> // containing arrays of tangents, normals, binormals\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tif ( typeof ( shapes ) === \"undefined\" ) {\n\n\t\treturn;\n\n\t}\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tthis.addShapeList( shapes, options );\n\n\tthis.computeVertexNormals();\n\n\t// can't really use automatic vertex normals\n\t// as then front and back sides get smoothed too\n\t// should do separate smoothing just for sides\n\n\t//this.computeVertexNormals();\n\n\t//console.log( \"took\", ( Date.now() - startTime ) );\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.getArrays = function () {\n\n\tvar positionAttribute = this.getAttribute( \"position\" );\n\tvar verticesArray = positionAttribute ? Array.prototype.slice.call( positionAttribute.array ) : [];\n\n\tvar uvAttribute = this.getAttribute( \"uv\" );\n\tvar uvArray = uvAttribute ? Array.prototype.slice.call( uvAttribute.array ) : [];\n\n\tvar IndexAttribute = this.index;\n\tvar indicesArray = IndexAttribute ? Array.prototype.slice.call( IndexAttribute.array ) : [];\n\n\treturn {\n\t\tposition: verticesArray,\n\t\tuv: uvArray,\n\t\tindex: indicesArray\n\t};\n\n};\n\nExtrudeBufferGeometry.prototype.addShapeList = function ( shapes, options ) {\n\n\tvar sl = shapes.length;\n\toptions.arrays = this.getArrays();\n\n\tfor ( var s = 0; s < sl; s ++ ) {\n\n\t\tvar shape = shapes[ s ];\n\t\tthis.addShape( shape, options );\n\n\t}\n\n\tthis.setIndex( options.arrays.index );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( options.arrays.position, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n};\n\nExtrudeBufferGeometry.prototype.addShape = function ( shape, options ) {\n\n\tvar arrays = options.arrays ? options.arrays : this.getArrays();\n\tvar verticesArray = arrays.position;\n\tvar indicesArray = arrays.index;\n\tvar uvArray = arrays.uv;\n\n\tvar placeholder = [];\n\n\n\tvar amount = options.amount !== undefined ? options.amount : 100;\n\n\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\n\tvar steps = options.steps !== undefined ? options.steps : 1;\n\n\tvar extrudePath = options.extrudePath;\n\tvar extrudePts, extrudeByPath = false;\n\n\t// Use default WorldUVGenerator if no UV generators are specified.\n\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : ExtrudeGeometry.WorldUVGenerator;\n\n\tvar splineTube, binormal, normal, position2;\n\tif ( extrudePath ) {\n\n\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\textrudeByPath = true;\n\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t// SETUP TNB variables\n\n\t\t// TODO1 - have a .isClosed in spline?\n\n\t\tsplineTube = options.frames !== undefined ? options.frames : extrudePath.computeFrenetFrames( steps, false );\n\n\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\tbinormal = new Vector3();\n\t\tnormal = new Vector3();\n\t\tposition2 = new Vector3();\n\n\t}\n\n\t// Safeguards if bevels are not enabled\n\n\tif ( ! bevelEnabled ) {\n\n\t\tbevelSegments = 0;\n\t\tbevelThickness = 0;\n\t\tbevelSize = 0;\n\n\t}\n\n\t// Variables initialization\n\n\tvar ahole, h, hl; // looping of holes\n\tvar scope = this;\n\n\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\tvar vertices = shapePoints.shape;\n\tvar holes = shapePoints.holes;\n\n\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\tif ( reverse ) {\n\n\t\tvertices = vertices.reverse();\n\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t/* Vertices */\n\n\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\tvertices = vertices.concat( ahole );\n\n\t}\n\n\n\tfunction scalePt2( pt, vec, size ) {\n\n\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t}\n\n\tvar b, bs, t, z,\n\t\tvert, vlen = vertices.length,\n\t\tface, flen = faces.length;\n\n\n\t// Find directions for point movement\n\n\n\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t//\n\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t// check for collinear edges\n\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t// not collinear\n\n\t\t\t// length of vectors for normalizing\n\n\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t// vector from inPt to intersection point\n\n\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t//  but prevent crazy spikes\n\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t} else {\n\n\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// handle special case of collinear edges\n\n\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( direction_eq ) {\n\n\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t} else {\n\n\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t}\n\n\n\tvar contourMovements = [];\n\n\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\tif ( j === il ) j = 0;\n\t\tif ( k === il ) k = 0;\n\n\t\t//  (j)---(i)---(k)\n\t\t// console.log('i,j,k', i, j , k)\n\n\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t}\n\n\tvar holesMovements = [],\n\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\toneHoleMovements = [];\n\n\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t}\n\n\t\tholesMovements.push( oneHoleMovements );\n\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t}\n\n\n\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\tv( vert.x, vert.y, - z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tbs = bevelSize;\n\n\t// Back facing vertices\n\n\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\tif ( ! extrudeByPath ) {\n\n\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t} else {\n\n\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t}\n\n\t}\n\n\t// Add stepped vertices...\n\t// Including front facing vertices\n\n\tvar s;\n\n\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, amount / steps * s );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\t// Add bevel segments planes\n\n\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\tv( vert.x, vert.y, amount + z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, amount + z );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/* Faces */\n\n\t// Top and bottom faces\n\n\tbuildLidFaces();\n\n\t// Sides faces\n\n\tbuildSideFaces();\n\n\n\t/////  Internal functions\n\n\tfunction buildLidFaces() {\n\n\t\tvar start = verticesArray.length / 3;\n\n\t\tif ( bevelEnabled ) {\n\n\t\t\tvar layer = 0; // steps + 1\n\t\t\tvar offset = vlen * layer;\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t}\n\n\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\toffset = vlen * layer;\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t}\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.addGroup( start, verticesArray.length / 3 - start, options.material !== undefined ? options.material : 0 );\n\n\t}\n\n\t// Create faces for the z-sides of the shape\n\n\tfunction buildSideFaces() {\n\n\t\tvar start = verticesArray.length / 3;\n\t\tvar layeroffset = 0;\n\t\tsidewalls( contour, layeroffset );\n\t\tlayeroffset += contour.length;\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t//, true\n\t\t\tlayeroffset += ahole.length;\n\n\t\t}\n\n\n\t\tscope.addGroup( start, verticesArray.length / 3 - start, options.extrudeMaterial !== undefined ? options.extrudeMaterial : 1 );\n\n\n\t}\n\n\tfunction sidewalls( contour, layeroffset ) {\n\n\t\tvar j, k;\n\t\ti = contour.length;\n\n\t\twhile ( -- i >= 0 ) {\n\n\t\t\tj = i;\n\t\t\tk = i - 1;\n\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\tvar s = 0,\n\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\tf4( a, b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction v( x, y, z ) {\n\n\t\tplaceholder.push( x );\n\t\tplaceholder.push( y );\n\t\tplaceholder.push( z );\n\n\t}\n\n\n\tfunction f3( a, b, c ) {\n\n\t\taddVertex( a );\n\t\taddVertex( b );\n\t\taddVertex( c );\n\n\t\tvar nextIndex = verticesArray.length / 3;\n\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\taddUV( uvs[ 0 ] );\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 2 ] );\n\n\t}\n\n\tfunction f4( a, b, c, d ) {\n\n\t\taddVertex( a );\n\t\taddVertex( b );\n\t\taddVertex( d );\n\n\t\taddVertex( b );\n\t\taddVertex( c );\n\t\taddVertex( d );\n\n\n\t\tvar nextIndex = verticesArray.length / 3;\n\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\taddUV( uvs[ 0 ] );\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 3 ] );\n\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 2 ] );\n\t\taddUV( uvs[ 3 ] );\n\n\t}\n\n\tfunction addVertex( index ) {\n\n\t\tindicesArray.push( verticesArray.length / 3 );\n\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t}\n\n\n\tfunction addUV( vector2 ) {\n\n\t\tuvArray.push( vector2.x );\n\t\tuvArray.push( vector2.y );\n\n\t}\n\n\tif ( ! options.arrays ) {\n\n\t\tthis.setIndex( indicesArray );\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n\t}\n\n};\n\nExtrudeGeometry.WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size, parameters.curveSegments );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.amount = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = thetaStart + thetaLength;\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.set( vertex.x, vertex.y, vertex.z ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t// also check if holes are in the opposite direction\n\n\t\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>,\n *  opacity: <float>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.opacity = 1.0;\n\n\tthis.lights = true;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearCoat = 0.0;\n\tthis.clearCoatRoughness = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearCoat = source.clearCoat;\n\tthis.clearCoatRoughness = source.clearCoatRoughness;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = window.decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = window.atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\twindow.setTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\twindow.setTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = event.target.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 ) {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else if ( this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( undefined !== texData.image ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( undefined !== texData.data ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;\n\n\t\t\ttexture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n\n\t\t\tif ( undefined !== texData.format ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( undefined !== texData.type ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( undefined !== texData.mipmaps ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( 1 === texData.mipmapCount ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\timage.addEventListener( 'load', function () {\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}, false );\n\n\t\t/*\n\t\timage.addEventListener( 'progress', function ( event ) {\n\n\t\t\tif ( onProgress ) onProgress( event );\n\n\t\t}, false );\n\t\t*/\n\n\t\timage.addEventListener( 'error', function ( event ) {\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemEnd( url );\n\t\t\tscope.manager.itemError( url );\n\n\t\t}, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar texture = new Texture();\n\t\ttexture.image = loader.load( url, function () {\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.(jpg|jpeg)$/ ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdate: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.position.set( 0, 1, 0 );\n\tthis.updateMatrix();\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n\t// TODO (abelnation): distance/decay\n\n\t// TODO (abelnation): update method for RectAreaLight to update transform to lookat target\n\n\t// TODO (abelnation): shadows\n\n}\n\n// TODO (abelnation): RectAreaLight update when light shape is changed\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\nvar KeyframeTrackPrototype;\n\nKeyframeTrackPrototype = {\n\n\tTimeBufferType: Float32Array,\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrackPrototype:', message );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) ++ from;\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) -- to;\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else keep = true;\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j )\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j )\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n};\n\nfunction KeyframeTrackConstructor( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'track name is undefined' );\n\n\tif ( times === undefined || times.length === 0 ) {\n\n\t\tthrow new Error( 'no keyframes in track named ' + name );\n\n\t}\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\tthis.validate();\n\tthis.optimize();\n\n}\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.apply( this, name, times, values, interpolation );\n\n}\n\nKeyframeTrack.prototype = KeyframeTrackPrototype;\nKeyframeTrackPrototype.constructor = KeyframeTrack;\n\n// Static methods:\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tparse: function ( json ) {\n\n\t\tif ( json.type === undefined ) {\n\n\t\t\tthrow new Error( 'track type undefined, can not parse' );\n\n\t\t}\n\n\t\tvar trackType = KeyframeTrack._getTrackTypeForValueTypeName( json.type );\n\n\t\tif ( json.times === undefined ) {\n\n\t\t\tvar times = [], values = [];\n\n\t\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\t\tjson.times = times;\n\t\t\tjson.values = values;\n\n\t\t}\n\n\t\t// derived classes can define a static parse method\n\t\tif ( trackType.parse !== undefined ) {\n\n\t\t\treturn trackType.parse( json );\n\n\t\t} else {\n\n\t\t\t// by default, we assume a constructor compatible with the base\n\t\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t},\n\n\t_getTrackTypeForValueTypeName: function ( typeName ) {\n\n\t\tswitch ( typeName.toLowerCase() ) {\n\n\t\t\tcase 'scalar':\n\t\t\tcase 'double':\n\t\t\tcase 'float':\n\t\t\tcase 'number':\n\t\t\tcase 'integer':\n\n\t\t\t\treturn NumberKeyframeTrack;\n\n\t\t\tcase 'vector':\n\t\t\tcase 'vector2':\n\t\t\tcase 'vector3':\n\t\t\tcase 'vector4':\n\n\t\t\t\treturn VectorKeyframeTrack;\n\n\t\t\tcase 'color':\n\n\t\t\t\treturn ColorKeyframeTrack;\n\n\t\t\tcase 'quaternion':\n\n\t\t\t\treturn QuaternionKeyframeTrack;\n\n\t\t\tcase 'bool':\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn BooleanKeyframeTrack;\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn StringKeyframeTrack;\n\n\t\t}\n\n\t\tthrow new Error( 'Unsupported typeName: ' + typeName );\n\n\t}\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n\tthis.optimize();\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.parse( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n\t\tif ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n\t\tif ( json.uniforms !== undefined ) material.uniforms = json.uniforms;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\treturn material;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\tgeometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {\n\n\tthis.onLoadStart = function () {};\n\tthis.onLoadProgress = function () {};\n\tthis.onLoadComplete = function () {};\n\n}\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\nObject.assign( Loader.prototype, {\n\n\tcrossOrigin: undefined,\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar parts = url.split( '/' );\n\n\t\tif ( parts.length === 1 ) return './';\n\n\t\tparts.pop();\n\n\t\treturn parts.join( '/' ) + '/';\n\n\t},\n\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tcreateMaterial: ( function () {\n\n\t\tvar BlendingMode = {\n\t\t\tNoBlending: NoBlending,\n\t\t\tNormalBlending: NormalBlending,\n\t\t\tAdditiveBlending: AdditiveBlending,\n\t\t\tSubtractiveBlending: SubtractiveBlending,\n\t\t\tMultiplyBlending: MultiplyBlending,\n\t\t\tCustomBlending: CustomBlending\n\t\t};\n\n\t\tvar color = new Color();\n\t\tvar textureLoader = new TextureLoader();\n\t\tvar materialLoader = new MaterialLoader();\n\n\t\treturn function createMaterial( m, texturePath, crossOrigin ) {\n\n\t\t\t// convert from old material format\n\n\t\t\tvar textures = {};\n\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\tvar loader = Loader.Handlers.get( fullPath );\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( loader !== null ) {\n\n\t\t\t\t\ttexture = loader.load( fullPath );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\n\t\t\t\t}\n\n\t\t\t\tif ( repeat !== undefined ) {\n\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( offset !== undefined ) {\n\n\t\t\t\t\ttexture.offset.fromArray( offset );\n\n\t\t\t\t}\n\n\t\t\t\tif ( wrap !== undefined ) {\n\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( anisotropy !== undefined ) {\n\n\t\t\t\t\ttexture.anisotropy = anisotropy;\n\n\t\t\t\t}\n\n\t\t\t\tvar uuid = _Math.generateUUID();\n\n\t\t\t\ttextures[ uuid ] = texture;\n\n\t\t\t\treturn uuid;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar json = {\n\t\t\t\tuuid: _Math.generateUUID(),\n\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t};\n\n\t\t\tfor ( var name in m ) {\n\n\t\t\t\tvar value = m[ name ];\n\n\t\t\t\tswitch ( name ) {\n\n\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\tjson.blending = BlendingMode[ value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorAmbient':\n\t\t\t\t\tcase 'mapAmbient':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissive':\n\t\t\t\t\t\tjson.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissiveRepeat':\n\t\t\t\t\tcase 'mapEmissiveOffset':\n\t\t\t\t\tcase 'mapEmissiveWrap':\n\t\t\t\t\tcase 'mapEmissiveAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\tjson.normalScale = [ value, value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalness':\n\t\t\t\t\t\tjson.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalnessRepeat':\n\t\t\t\t\tcase 'mapMetalnessOffset':\n\t\t\t\t\tcase 'mapMetalnessWrap':\n\t\t\t\t\tcase 'mapMetalnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughness':\n\t\t\t\t\t\tjson.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughnessRepeat':\n\t\t\t\t\tcase 'mapRoughnessOffset':\n\t\t\t\t\tcase 'mapRoughnessWrap':\n\t\t\t\t\tcase 'mapRoughnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\tjson.side = BackSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\tjson.side = DoubleSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\tcase 'colorWrite':\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\tcase 'reflectivity':\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = VertexColors;\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = FaceColors;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\n\t\t\tmaterialLoader.setTextures( textures );\n\n\t\t\treturn materialLoader.parse( json );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction JSONLoader( manager ) {\n\n\tif ( typeof manager === 'boolean' ) {\n\n\t\tconsole.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\n\t\tmanager = undefined;\n\n\t}\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.withCredentials = false;\n\n}\n\nObject.assign( JSONLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texturePath = this.texturePath && ( typeof this.texturePath === \"string\" ) ? this.texturePath : Loader.prototype.extractUrlBase( url );\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = JSON.parse( text );\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata !== undefined ) {\n\n\t\t\t\tvar type = metadata.type;\n\n\t\t\t\tif ( type !== undefined ) {\n\n\t\t\t\t\tif ( type.toLowerCase() === 'object' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( type.toLowerCase() === 'scene' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar object = scope.parse( json, texturePath );\n\t\t\tonLoad( object.geometry, object.materials );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTexturePath: function ( value ) {\n\n\t\tthis.texturePath = value;\n\n\t},\n\n\tparse: ( function () {\n\n\t\tfunction parseModel( json, geometry ) {\n\n\t\t\tfunction isBitSet( value, position ) {\n\n\t\t\t\treturn value & ( 1 << position );\n\n\t\t\t}\n\n\t\t\tvar i, j, fi,\n\n\t\t\t\toffset, zLength,\n\n\t\t\t\tcolorIndex, normalIndex, uvIndex, materialIndex,\n\n\t\t\t\ttype,\n\t\t\t\tisQuad,\n\t\t\t\thasMaterial,\n\t\t\t\thasFaceVertexUv,\n\t\t\t\thasFaceNormal, hasFaceVertexNormal,\n\t\t\t\thasFaceColor, hasFaceVertexColor,\n\n\t\t\t\tvertex, face, faceA, faceB, hex, normal,\n\n\t\t\t\tuvLayer, uv, u, v,\n\n\t\t\t\tfaces = json.faces,\n\t\t\t\tvertices = json.vertices,\n\t\t\t\tnormals = json.normals,\n\t\t\t\tcolors = json.colors,\n\n\t\t\t\tscale = json.scale,\n\n\t\t\t\tnUvLayers = 0;\n\n\n\t\t\tif ( json.uvs !== undefined ) {\n\n\t\t\t\t// disregard empty arrays\n\n\t\t\t\tfor ( i = 0; i < json.uvs.length; i ++ ) {\n\n\t\t\t\t\tif ( json.uvs[ i ].length ) nUvLayers ++;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\tgeometry.faceVertexUvs[ i ] = [];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\toffset = 0;\n\t\t\tzLength = vertices.length;\n\n\t\t\twhile ( offset < zLength ) {\n\n\t\t\t\tvertex = new Vector3();\n\n\t\t\t\tvertex.x = vertices[ offset ++ ] * scale;\n\t\t\t\tvertex.y = vertices[ offset ++ ] * scale;\n\t\t\t\tvertex.z = vertices[ offset ++ ] * scale;\n\n\t\t\t\tgeometry.vertices.push( vertex );\n\n\t\t\t}\n\n\t\t\toffset = 0;\n\t\t\tzLength = faces.length;\n\n\t\t\twhile ( offset < zLength ) {\n\n\t\t\t\ttype = faces[ offset ++ ];\n\n\t\t\t\tisQuad = isBitSet( type, 0 );\n\t\t\t\thasMaterial = isBitSet( type, 1 );\n\t\t\t\thasFaceVertexUv = isBitSet( type, 3 );\n\t\t\t\thasFaceNormal = isBitSet( type, 4 );\n\t\t\t\thasFaceVertexNormal = isBitSet( type, 5 );\n\t\t\t\thasFaceColor = isBitSet( type, 6 );\n\t\t\t\thasFaceVertexColor = isBitSet( type, 7 );\n\n\t\t\t\t// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n\n\t\t\t\tif ( isQuad ) {\n\n\t\t\t\t\tfaceA = new Face3();\n\t\t\t\t\tfaceA.a = faces[ offset ];\n\t\t\t\t\tfaceA.b = faces[ offset + 1 ];\n\t\t\t\t\tfaceA.c = faces[ offset + 3 ];\n\n\t\t\t\t\tfaceB = new Face3();\n\t\t\t\t\tfaceB.a = faces[ offset + 1 ];\n\t\t\t\t\tfaceB.b = faces[ offset + 2 ];\n\t\t\t\t\tfaceB.c = faces[ offset + 3 ];\n\n\t\t\t\t\toffset += 4;\n\n\t\t\t\t\tif ( hasMaterial ) {\n\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\tfaceA.materialIndex = materialIndex;\n\t\t\t\t\t\tfaceB.materialIndex = materialIndex;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// to get face <=> uv index correspondence\n\n\t\t\t\t\tfi = geometry.faces.length;\n\n\t\t\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi + 1 ] = [];\n\n\t\t\t\t\t\t\tfor ( j = 0; j < 4; j ++ ) {\n\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\n\t\t\t\t\t\t\t\tuv = new Vector2( u, v );\n\n\t\t\t\t\t\t\t\tif ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\n\t\t\t\t\t\t\t\tif ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\tfaceA.normal.set(\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfaceB.normal.copy( faceA.normal );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\t\tnormal = new Vector3(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\n\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexNormals.push( normal );\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexNormals.push( normal );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\thex = colors[ colorIndex ];\n\n\t\t\t\t\t\tfaceA.color.setHex( hex );\n\t\t\t\t\t\tfaceB.color.setHex( hex );\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\thex = colors[ colorIndex ];\n\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexColors.push( new Color( hex ) );\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexColors.push( new Color( hex ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.faces.push( faceA );\n\t\t\t\t\tgeometry.faces.push( faceB );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface = new Face3();\n\t\t\t\t\tface.a = faces[ offset ++ ];\n\t\t\t\t\tface.b = faces[ offset ++ ];\n\t\t\t\t\tface.c = faces[ offset ++ ];\n\n\t\t\t\t\tif ( hasMaterial ) {\n\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\tface.materialIndex = materialIndex;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// to get face <=> uv index correspondence\n\n\t\t\t\t\tfi = geometry.faces.length;\n\n\t\t\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\n\t\t\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\n\t\t\t\t\t\t\t\tuv = new Vector2( u, v );\n\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ].push( uv );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\tface.normal.set(\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\t\tnormal = new Vector3(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tface.vertexNormals.push( normal );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\tface.color.setHex( colors[ colorIndex ] );\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\tface.vertexColors.push( new Color( colors[ colorIndex ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.faces.push( face );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseSkin( json, geometry ) {\n\n\t\t\tvar influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\n\n\t\t\tif ( json.skinWeights ) {\n\n\t\t\t\tfor ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\n\n\t\t\t\t\tvar x = json.skinWeights[ i ];\n\t\t\t\t\tvar y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\n\t\t\t\t\tvar z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\n\t\t\t\t\tvar w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\n\n\t\t\t\t\tgeometry.skinWeights.push( new Vector4( x, y, z, w ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.skinIndices ) {\n\n\t\t\t\tfor ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\n\n\t\t\t\t\tvar a = json.skinIndices[ i ];\n\t\t\t\t\tvar b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\n\t\t\t\t\tvar c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\n\t\t\t\t\tvar d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\n\n\t\t\t\t\tgeometry.skinIndices.push( new Vector4( a, b, c, d ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.bones = json.bones;\n\n\t\t\tif ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\n\n\t\t\t\tconsole.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\n\t\t\t\t\tgeometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseMorphing( json, geometry ) {\n\n\t\t\tvar scale = json.scale;\n\n\t\t\tif ( json.morphTargets !== undefined ) {\n\n\t\t\t\tfor ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\t\tgeometry.morphTargets[ i ] = {};\n\t\t\t\t\tgeometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\n\t\t\t\t\tgeometry.morphTargets[ i ].vertices = [];\n\n\t\t\t\t\tvar dstVertices = geometry.morphTargets[ i ].vertices;\n\t\t\t\t\tvar srcVertices = json.morphTargets[ i ].vertices;\n\n\t\t\t\t\tfor ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\n\n\t\t\t\t\t\tvar vertex = new Vector3();\n\t\t\t\t\t\tvertex.x = srcVertices[ v ] * scale;\n\t\t\t\t\t\tvertex.y = srcVertices[ v + 1 ] * scale;\n\t\t\t\t\t\tvertex.z = srcVertices[ v + 2 ] * scale;\n\n\t\t\t\t\t\tdstVertices.push( vertex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\n\n\t\t\t\tconsole.warn( 'THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.' );\n\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar morphColors = json.morphColors[ 0 ].colors;\n\n\t\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\t\tfaces[ i ].color.fromArray( morphColors, i * 3 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAnimations( json, geometry ) {\n\n\t\t\tvar outputAnimations = [];\n\n\t\t\t// parse old style Bone/Hierarchy animations\n\t\t\tvar animations = [];\n\n\t\t\tif ( json.animation !== undefined ) {\n\n\t\t\t\tanimations.push( json.animation );\n\n\t\t\t}\n\n\t\t\tif ( json.animations !== undefined ) {\n\n\t\t\t\tif ( json.animations.length ) {\n\n\t\t\t\t\tanimations = animations.concat( json.animations );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tanimations.push( json.animations );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0; i < animations.length; i ++ ) {\n\n\t\t\t\tvar clip = AnimationClip.parseAnimation( animations[ i ], geometry.bones );\n\t\t\t\tif ( clip ) outputAnimations.push( clip );\n\n\t\t\t}\n\n\t\t\t// parse implicit morph animations\n\t\t\tif ( geometry.morphTargets ) {\n\n\t\t\t\t// TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n\t\t\t\tvar morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\n\t\t\t\toutputAnimations = outputAnimations.concat( morphAnimationClips );\n\n\t\t\t}\n\n\t\t\tif ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\n\n\t\t}\n\n\t\treturn function ( json, texturePath ) {\n\n\t\t\tif ( json.data !== undefined ) {\n\n\t\t\t\t// Geometry 4.0 spec\n\t\t\t\tjson = json.data;\n\n\t\t\t}\n\n\t\t\tif ( json.scale !== undefined ) {\n\n\t\t\t\tjson.scale = 1.0 / json.scale;\n\n\t\t\t} else {\n\n\t\t\t\tjson.scale = 1.0;\n\n\t\t\t}\n\n\t\t\tvar geometry = new Geometry();\n\n\t\t\tparseModel( json, geometry );\n\t\t\tparseSkin( json, geometry );\n\t\t\tparseMorphing( json, geometry );\n\t\t\tparseAnimations( json, geometry );\n\n\t\t\tgeometry.computeFaceNormals();\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tif ( json.materials === undefined || json.materials.length === 0 ) {\n\n\t\t\t\treturn { geometry: geometry };\n\n\t\t\t} else {\n\n\t\t\t\tvar materials = Loader.prototype.initMaterials( json.materials, texturePath, this.crossOrigin );\n\n\t\t\t\treturn { geometry: geometry, materials: materials };\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.texturePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.texturePath === '' ) {\n\n\t\t\tthis.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\n\n\t\t}\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url + '. Use THREE.JSONLoader instead.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTexturePath: function ( value ) {\n\n\t\tthis.texturePath = value;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar geometries = this.parseGeometries( json.geometries );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseGeometries: function ( json ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar geometryLoader = new JSONLoader();\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.texturePath ).geometry;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tarray.push( loader.parse( data.materials[ j ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\n\n\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture = new Texture( images[ data.image ] );\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function parseObject( data, geometries, materials ) {\n\n\t\t\tvar object;\n\n\t\t\tfunction getGeometry( name ) {\n\n\t\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t\t}\n\n\t\t\t\treturn geometries[ name ];\n\n\t\t\t}\n\n\t\t\tfunction getMaterial( name ) {\n\n\t\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array;\n\n\t\t\t\t}\n\n\t\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t\t}\n\n\t\t\t\treturn materials[ name ];\n\n\t\t\t}\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'Scene':\n\n\t\t\t\t\tobject = new Scene();\n\n\t\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientLight':\n\n\t\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DirectionalLight':\n\n\t\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\n\t\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\n\t\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\n\t\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\n\t\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\t\tcase 'Mesh':\n\n\t\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LOD':\n\n\t\t\t\t\tobject = new LOD();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Line':\n\n\t\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineLoop':\n\n\t\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineSegments':\n\n\t\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointCloud':\n\t\t\t\tcase 'Points':\n\n\t\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Sprite':\n\n\t\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Group':\n\n\t\t\t\t\tobject = new Group();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tobject = new Object3D();\n\n\t\t\t}\n\n\t\t\tobject.uuid = data.uuid;\n\n\t\t\tif ( data.name !== undefined ) object.name = data.name;\n\t\t\tif ( data.matrix !== undefined ) {\n\n\t\t\t\tmatrix.fromArray( data.matrix );\n\t\t\t\tmatrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t} else {\n\n\t\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t\t}\n\n\t\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\t\tif ( data.shadow ) {\n\n\t\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t\t}\n\n\t\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\n\t\t\tif ( data.children !== undefined ) {\n\n\t\t\t\tvar children = data.children;\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( data.type === 'LOD' ) {\n\n\t\t\t\tvar levels = data.levels;\n\n\t\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\t\tvar level = levels[ l ];\n\t\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn object;\n\n\t\t};\n\n\t}()\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipMapNearestFilter: NearestMipMapNearestFilter,\n\tNearestMipMapLinearFilter: NearestMipMapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipMapNearestFilter: LinearMipMapNearestFilter,\n\tLinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && curve.isLineCurve ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nvar PathPrototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = PathPrototype;\nPathPrototype.constructor = Path;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( PathPrototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size, divisions ) {\n\n\t\tfunction createPaths( text ) {\n\n\t\t\tvar chars = String( text ).split( '' );\n\t\t\tvar scale = size / data.resolution;\n\t\t\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\t\t\tvar offsetX = 0, offsetY = 0;\n\n\t\t\tvar paths = [];\n\n\t\t\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\t\t\tvar char = chars[ i ];\n\n\t\t\t\tif ( char === '\\n' ) {\n\n\t\t\t\t\toffsetX = 0;\n\t\t\t\t\toffsetY -= line_height;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar ret = createPath( char, scale, offsetX, offsetY );\n\t\t\t\t\toffsetX += ret.offsetX;\n\t\t\t\t\tpaths.push( ret.path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn paths;\n\n\t\t}\n\n\t\tfunction createPath( c, scale, offsetX, offsetY ) {\n\n\t\t\tvar glyph = data.glyphs[ c ] || data.glyphs[ '?' ];\n\n\t\t\tif ( ! glyph ) return;\n\n\t\t\tvar path = new ShapePath();\n\n\t\t\tvar pts = [];\n\t\t\tvar x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\n\n\t\t\tif ( glyph.o ) {\n\n\t\t\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\t\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\t\t\tvar action = outline[ i ++ ];\n\n\t\t\t\t\tswitch ( action ) {\n\n\t\t\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\t\t\tQuadraticBezier( t, cpx0, cpx1, cpx );\n\t\t\t\t\t\t\t\t\tQuadraticBezier( t, cpy0, cpy1, cpy );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\t\t\tCubicBezier( t, cpx0, cpx1, cpx2, cpx );\n\t\t\t\t\t\t\t\t\tCubicBezier( t, cpy0, cpy1, cpy2, cpy );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn { offsetX: glyph.ha * scale, path: path };\n\n\t\t}\n\n\t\t//\n\n\t\tif ( size === undefined ) size = 100;\n\t\tif ( divisions === undefined ) divisions = 4;\n\n\t\tvar data = this.data;\n\n\t\tvar paths = createPaths( text );\n\t\tvar shapes = [];\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nvar context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( context === undefined ) {\n\n\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\tcontext = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar context = AudioContext.getContext();\n\n\t\t\tcontext.decodeAudioData( buffer, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: ( function () {\n\n\t\tvar instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n\t\tvar eyeRight = new Matrix4();\n\t\tvar eyeLeft = new Matrix4();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tinstance = this;\n\t\t\t\tfocus = camera.focus;\n\t\t\t\tfov = camera.fov;\n\t\t\t\taspect = camera.aspect * this.aspect;\n\t\t\t\tnear = camera.near;\n\t\t\t\tfar = camera.far;\n\t\t\t\tzoom = camera.zoom;\n\n\t\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\t\teyeSep = this.eyeSep / 2;\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\n\t\t\t\tvar ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n\t\t\t\tvar xmin, xmax;\n\n\t\t\t\t// translate xOffset\n\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\n\n\t\t\t\t// for left eye\n\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t\t// for right eye\n\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CubeCamera( near, far, cubeResolution ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar fov = 90, aspect = 1;\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\tvar options = { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderTarget.activeCubeFace = 0;\n\t\trenderer.render( scene, cameraPX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 1;\n\t\trenderer.render( scene, cameraNX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 2;\n\t\trenderer.render( scene, cameraPY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 3;\n\t\trenderer.render( scene, cameraNY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 4;\n\t\trenderer.render( scene, cameraPZ, renderTarget );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderTarget.activeCubeFace = 5;\n\t\trenderer.render( scene, cameraNZ, renderTarget );\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderTarget.activeCubeFace = i;\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.value = value;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( listener.positionX ) {\n\n\t\t\t\tlistener.positionX.setValueAtTime( position.x, this.context.currentTime );\n\t\t\t\tlistener.positionY.setValueAtTime( position.y, this.context.currentTime );\n\t\t\t\tlistener.positionZ.setValueAtTime( position.z, this.context.currentTime );\n\t\t\t\tlistener.forwardX.setValueAtTime( orientation.x, this.context.currentTime );\n\t\t\t\tlistener.forwardY.setValueAtTime( orientation.y, this.context.currentTime );\n\t\t\t\tlistener.forwardZ.setValueAtTime( orientation.z, this.context.currentTime );\n\t\t\t\tlistener.upX.setValueAtTime( up.x, this.context.currentTime );\n\t\t\t\tlistener.upY.setValueAtTime( up.y, this.context.currentTime );\n\t\t\t\tlistener.upZ.setValueAtTime( up.z, this.context.currentTime );\n\n\t\t\t} else {\n\n\t\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.playbackRate.setValueAtTime( this.playbackRate, this.startTime );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setValueAtTime( this.playbackRate, this.context.currentTime );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.value = value;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tthis.panner.setPosition( position.x, position.y, position.z );\n\n\t\t};\n\n\t} )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param  {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( /[^\\w-]/g, '' );\n\n\t},\n\n\tparseTrackName: function () {\n\n\t\t// Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t\t// be matched to parse the rest of the track name.\n\t\tvar directoryRe = /((?:[\\w-]+[\\/:])*)/;\n\n\t\t// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\t\tvar nodeRe = /([\\w-\\.]+)?/;\n\n\t\t// Object on target node, and accessor. Name may contain only word\n\t\t// characters. Accessor may contain any character except closing bracket.\n\t\tvar objectRe = /(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/;\n\n\t\t// Property and accessor. May contain only word characters. Accessor may\n\t\t// contain any non-bracket characters.\n\t\tvar propertyRe = /\\.([\\w-]+)(?:\\[(.+)\\])?/;\n\n\t\tvar trackRe = new RegExp( ''\n\t\t\t+ '^'\n\t\t\t+ directoryRe.source\n\t\t\t+ nodeRe.source\n\t\t\t+ objectRe.source\n\t\t\t+ propertyRe.source\n\t\t\t+ '$'\n\t\t);\n\n\t\tvar supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n\t\treturn function ( trackName ) {\n\n\t\t\tvar matches = trackRe.exec( trackName );\n\n\t\t\tif ( ! matches ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\tvar results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[ 2 ],\n\t\t\t\tobjectName: matches[ 3 ],\n\t\t\t\tobjectIndex: matches[ 4 ],\n\t\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\t\tpropertyIndex: matches[ 6 ]\n\t\t\t};\n\n\t\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\t\t\t\tif ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\t\tresults.objectName = objectName;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\treturn results;\n\n\t\t};\n\n\t}(),\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar searchSkeleton = function ( skeleton ) {\n\n\t\t\t\tfor ( var i = 0; i < skeleton.bones.length; i ++ ) {\n\n\t\t\t\t\tvar bone = skeleton.bones[ i ];\n\n\t\t\t\t\tif ( bone.name === nodeName ) {\n\n\t\t\t\t\t\treturn bone;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar bone = searchSkeleton( root.skeleton );\n\n\t\t\tif ( bone ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n * \t-\tAdd objects you would otherwise pass as 'root' to the\n * \t\tconstructor or the .clipAction method of AnimationMixer.\n *\n * \t-\tInstead pass this object as 'root'.\n *\n * \t-\tYou can also add and remove objects later when the mixer\n * \t\tis running.\n *\n * Note:\n *\n *  \tObjects of this class appear as one object to the mixer,\n *  \tso cache control of the individual objects must be done\n *  \ton the group.\n *\n * Limitation:\n *\n * \t- \tThe animated properties must be compatible among the\n * \t\tall objects in the group.\n *\n *  -\tA single property can either be controlled through a\n *  \ttarget group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0;\t\t\t// threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices;\t\t// for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = [];\t\t\t\t\t// inside: string\n\tthis._parsedPaths = [];\t\t\t\t// inside: { we don't care, here }\n\tthis._bindings = []; \t\t\t\t// inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; \t// inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ],\n\t\t\t\tknownObject = undefined;\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants;\t// bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null;\t\t\t// for the memory manager\n\tthis._byClipCacheIndex = null;\t\t// for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; \t\t// no. of repetitions when looping\n\n\tthis.paused = false;\t\t\t\t// true -> zero effective time scale\n\tthis.enabled = true;\t\t\t\t// false -> zero effective weight\n\n\tthis.clampWhenFinished \t= false;\t// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart \t= true;\t\t// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd\t\t= true;\t\t// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0;\t\t\t// restart clip\n\t\tthis._loopCount = - 1;\t// forget previous loops\n\t\tthis._startTime = null;\t// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\n\t\tif ( deltaTime === 0 ) return time;\n\n\t\tvar duration = this._clip.duration,\n\n\t\t\tloop = this.loop,\n\t\t\tloopCount = this._loopCount;\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else break handle_stop;\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending < 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 0 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\tthis.time = time;\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.time = time;\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart \t= ZeroSlopeEnding;\n\t\t\tsettings.endingEnd\t\t= ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now; \t\t\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nObject.assign( AnimationMixer.prototype, EventDispatcher.prototype, {\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \t\tknownActions: Array< AnimationAction >\t- used as prototypes\n\t\t// \t\tactionByRoot: AnimationAction\t\t\t- lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tremove_empty_map: {\n\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.onUploadCallback = function () {};\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, meshPerAttribute ) {\n\n\tBufferAttribute.call( this, array, itemSize );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The poles (phi) are at the positive and negative y axis.\n * The equator starts at positive z.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // up / down towards top and bottom pole\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // around the equator of the sphere\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( vec3 ) {\n\n\t\tthis.radius = vec3.length();\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( vec3.x, vec3.z ); // equator angle around y-up axis\n\t\t\tthis.phi = Math.acos( _Math.clamp( vec3.y / this.radius, - 1, 1 ) ); // polar angle\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( vec3 ) {\n\n\t\tthis.radius = Math.sqrt( vec3.x * vec3.x + vec3.z * vec3.z );\n\t\tthis.theta = Math.atan2( vec3.x, vec3.z );\n\t\tthis.y = vec3.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\t\tvar vertices = objGeometry.vertices;\n\n\t\t\tvar faces = objGeometry.faces;\n\n\t\t\tvar idx = 0;\n\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tvar face = faces[ i ];\n\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\t\tvar objPos = objGeometry.attributes.position;\n\n\t\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\t\tvar idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\tvar vector2 = new Vector3();\n\n\treturn function update() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.matrixWorld );\n\t\tvector2.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector2.sub( vector ) );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t};\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function () {\n\n\tvar vector = new Vector3();\n\n\tvar boneMatrix = new Matrix4();\n\tvar matrixWorldInv = new Matrix4();\n\n\treturn function updateMatrixWorld( force ) {\n\n\t\tvar bones = this.bones;\n\n\t\tvar geometry = this.geometry;\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tmatrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tvar bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j, vector.x, vector.y, vector.z );\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.addAttribute( 'position', new BufferAttribute( new Float32Array( 5 * 3 ), 3 ) );\n\n\tthis.line = new Line( geometry, material );\n\tthis.add( this.line );\n\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Object3D.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nRectAreaLightHelper.prototype.update = function () {\n\n\t// calculate new dimensions of the helper\n\n\tvar hx = this.light.width * 0.5;\n\tvar hy = this.light.height * 0.5;\n\n\tvar position = this.line.geometry.attributes.position;\n\tvar array = position.array;\n\n\t// update vertices\n\n\tarray[ 0 ] = hx; array[ 1 ] = - hy; array[ 2 ] = 0;\n\tarray[ 3 ] = hx; array[ 4 ] = hy; array[ 5 ] = 0;\n\tarray[ 6 ] = - hx; array[ 7 ] = hy; array[ 8 ] = 0;\n\tarray[ 9 ] = - hx; array[ 10 ] = - hy; array[ 11 ] = 0;\n\tarray[ 12 ] = hx; array[ 13 ] = - hy; array[ 14 ] = 0;\n\n\tposition.needsUpdate = true;\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.line.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.line.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\tvar color1 = new Color();\n\tvar color2 = new Color();\n\n\treturn function update() {\n\n\t\tvar mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\tcolor1.copy( this.light.color );\n\t\t\tcolor2.copy( this.light.groundColor );\n\n\t\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tvar color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar normal = face.normal;\n\n\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t.divideScalar( 3 )\n\t\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar v3 = new Vector3();\n\n\treturn function update() {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( v3 );\n\t\tthis.targetLine.scale.z = v3.length();\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry, pointMap;\n\n\tvar vector = new Vector3();\n\tvar camera = new Camera();\n\n\tfunction setPoint( point, x, y, z ) {\n\n\t\tvector.set( x, y, z ).unproject( camera );\n\n\t\tvar points = pointMap[ point ];\n\n\t\tif ( points !== undefined ) {\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tposition.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn function update() {\n\n\t\tgeometry = this.geometry;\n\t\tpointMap = this.pointMap;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', 0, 0, - 1 );\n\t\tsetPoint( 't', 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', - w, - h, - 1 );\n\t\tsetPoint( 'n2', w, - h, - 1 );\n\t\tsetPoint( 'n3', - w, h, - 1 );\n\t\tsetPoint( 'n4', w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', - w, - h, 1 );\n\t\tsetPoint( 'f2', w, - h, 1 );\n\t\tsetPoint( 'f3', - w, h, 1 );\n\t\tsetPoint( 'f4', w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', - w, 0, 1 );\n\t\tsetPoint( 'cf2', w, 0, 1 );\n\t\tsetPoint( 'cf3', 0, - h, 1 );\n\t\tsetPoint( 'cf4', 0, h, 1 );\n\n\t\tsetPoint( 'cn1', - w, 0, - 1 );\n\t\tsetPoint( 'cn2', w, 0, - 1 );\n\t\tsetPoint( 'cn3', 0, - h, - 1 );\n\t\tsetPoint( 'cn4', 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new Box3();\n\n\treturn function update( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tbox.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry;\nvar coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( length === undefined ) length = 1;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( lineGeometry === undefined ) {\n\n\t\tlineGeometry = new BufferGeometry();\n\t\tlineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\tconeGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n\tvar axis = new Vector3();\n\tvar radians;\n\n\treturn function setDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.copy( color );\n\tthis.cone.material.color.copy( color );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly();\nvar py = new CubicPoly();\nvar pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\n\t\tvar group = new Group();\n\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\tgroup.add( new Mesh( geometry, materials[ i ] ) );\n\n\t\t}\n\n\t\treturn group;\n\n\t},\n\n\tdetach: function ( child, parent, scene ) {\n\n\t\tchild.applyMatrix( parent.matrixWorld );\n\t\tparent.remove( child );\n\t\tscene.add( child );\n\n\t},\n\n\tattach: function ( child, scene, parent ) {\n\n\t\tchild.applyMatrix( new Matrix4().getInverse( parent.matrixWorld ) );\n\n\t\tscene.remove( child );\n\t\tparent.add( child );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tvar v1;\n\n\t\treturn function getPosition() {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\n\n\t\t};\n\n\t}(),\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nGeometry.prototype.computeTangents = function () {\n\n\tconsole.warn( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n};\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.cullFace;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.' );\n\t\t\tthis.shadowMap.cullFace = value;\n\n\t\t}\n\t}\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\treturn this.renderReverseSided ? CullFaceFront : CullFaceBack;\n\n\t\t},\n\t\tset: function ( cullFace ) {\n\n\t\t\tvar value = ( cullFace !== CullFaceBack );\n\t\t\tconsole.warn( \"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\" );\n\t\t\tthis.renderReverseSided = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nvar ImageUtils = {\n\n\tcrossOrigin: undefined,\n\n\tloadTexture: function ( url, mapping, onLoad, onError ) {\n\n\t\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\t\tvar loader = new TextureLoader();\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\t\tif ( mapping ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t},\n\n\tloadTextureCube: function ( urls, mapping, onLoad, onError ) {\n\n\t\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\t\tvar loader = new CubeTextureLoader();\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\t\tif ( mapping ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t},\n\n\tloadCompressedTexture: function () {\n\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n\t},\n\n\tloadCompressedTextureCube: function () {\n\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n\t}\n\n};\n\n//\n\nfunction Projector() {\n\n\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\n\tthis.projectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n\t\tvector.project( camera );\n\n\t};\n\n\tthis.unprojectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n\t\tvector.unproject( camera );\n\n\t};\n\n\tthis.pickingRay = function () {\n\n\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\n\t};\n\n}\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\n\n\tthis.domElement = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tthis.clear = function () {};\n\tthis.render = function () {};\n\tthis.setClearColor = function () {};\n\tthis.setSize = function () {};\n\n}\n\nexport { WebGLRenderTargetCube, WebGLRenderTarget, WebGLRenderer, ShaderLib, UniformsLib, UniformsUtils, ShaderChunk, FogExp2, Fog, Scene, LensFlare, Sprite, LOD, SkinnedMesh, Skeleton, Bone, Mesh, LineSegments, LineLoop, Line, Points, Group, VideoTexture, DataTexture, CompressedTexture, CubeTexture, CanvasTexture, DepthTexture, Texture, CompressedTextureLoader, DataTextureLoader, CubeTextureLoader, TextureLoader, ObjectLoader, MaterialLoader, BufferGeometryLoader, DefaultLoadingManager, LoadingManager, JSONLoader, ImageLoader, FontLoader, FileLoader, Loader, Cache, AudioLoader, SpotLightShadow, SpotLight, PointLight, RectAreaLight, HemisphereLight, DirectionalLightShadow, DirectionalLight, AmbientLight, LightShadow, Light, StereoCamera, PerspectiveCamera, OrthographicCamera, CubeCamera, ArrayCamera, Camera, AudioListener, PositionalAudio, AudioContext, AudioAnalyser, Audio, VectorKeyframeTrack, StringKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, ColorKeyframeTrack, BooleanKeyframeTrack, PropertyMixer, PropertyBinding, KeyframeTrack, AnimationUtils, AnimationObjectGroup, AnimationMixer, AnimationClip, Uniform, InstancedBufferGeometry, BufferGeometry, Geometry, InterleavedBufferAttribute, InstancedInterleavedBuffer, InterleavedBuffer, InstancedBufferAttribute, Face3, Object3D, Raycaster, Layers, EventDispatcher, Clock, QuaternionLinearInterpolant, LinearInterpolant, DiscreteInterpolant, CubicInterpolant, Interpolant, Triangle, _Math as Math, Spherical, Cylindrical, Plane, Frustum, Sphere, Ray, Matrix4, Matrix3, Box3, Box2, Line3, Euler, Vector4, Vector3, Vector2, Quaternion, Color, ImmediateRenderObject, VertexNormalsHelper, SpotLightHelper, SkeletonHelper, PointLightHelper, RectAreaLightHelper, HemisphereLightHelper, GridHelper, PolarGridHelper, FaceNormalsHelper, DirectionalLightHelper, CameraHelper, BoxHelper, Box3Helper, PlaneHelper, ArrowHelper, AxesHelper, CatmullRomCurve3, CubicBezierCurve3, QuadraticBezierCurve3, LineCurve3, ArcCurve, EllipseCurve, SplineCurve, CubicBezierCurve, QuadraticBezierCurve, LineCurve, Shape, Path, ShapePath, Font, CurvePath, Curve, ShapeUtils, SceneUtils, WebGLUtils, WireframeGeometry, ParametricGeometry, ParametricBufferGeometry, TetrahedronGeometry, TetrahedronBufferGeometry, OctahedronGeometry, OctahedronBufferGeometry, IcosahedronGeometry, IcosahedronBufferGeometry, DodecahedronGeometry, DodecahedronBufferGeometry, PolyhedronGeometry, PolyhedronBufferGeometry, TubeGeometry, TubeBufferGeometry, TorusKnotGeometry, TorusKnotBufferGeometry, TorusGeometry, TorusBufferGeometry, TextGeometry, TextBufferGeometry, SphereGeometry, SphereBufferGeometry, RingGeometry, RingBufferGeometry, PlaneGeometry, PlaneBufferGeometry, LatheGeometry, LatheBufferGeometry, ShapeGeometry, ShapeBufferGeometry, ExtrudeGeometry, ExtrudeBufferGeometry, EdgesGeometry, ConeGeometry, ConeBufferGeometry, CylinderGeometry, CylinderBufferGeometry, CircleGeometry, CircleBufferGeometry, BoxGeometry, BoxBufferGeometry, ShadowMaterial, SpriteMaterial, RawShaderMaterial, ShaderMaterial, PointsMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshPhongMaterial, MeshToonMaterial, MeshNormalMaterial, MeshLambertMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshBasicMaterial, LineDashedMaterial, LineBasicMaterial, Material, Float64BufferAttribute, Float32BufferAttribute, Uint32BufferAttribute, Int32BufferAttribute, Uint16BufferAttribute, Int16BufferAttribute, Uint8ClampedBufferAttribute, Uint8BufferAttribute, Int8BufferAttribute, BufferAttribute, REVISION, MOUSE, CullFaceNone, CullFaceBack, CullFaceFront, CullFaceFrontBack, FrontFaceDirectionCW, FrontFaceDirectionCCW, BasicShadowMap, PCFShadowMap, PCFSoftShadowMap, FrontSide, BackSide, DoubleSide, FlatShading, SmoothShading, NoColors, FaceColors, VertexColors, NoBlending, NormalBlending, AdditiveBlending, SubtractiveBlending, MultiplyBlending, CustomBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth, MultiplyOperation, MixOperation, AddOperation, NoToneMapping, LinearToneMapping, ReinhardToneMapping, Uncharted2ToneMapping, CineonToneMapping, UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter, UnsignedByteType, ByteType, ShortType, UnsignedShortType, IntType, UnsignedIntType, FloatType, HalfFloatType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedInt248Type, AlphaFormat, RGBFormat, RGBAFormat, LuminanceFormat, LuminanceAlphaFormat, RGBEFormat, DepthFormat, DepthStencilFormat, RGB_S3TC_DXT1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_PVRTC_2BPPV1_Format, RGB_ETC1_Format, LoopOnce, LoopRepeat, LoopPingPong, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, ZeroCurvatureEnding, ZeroSlopeEnding, WrapAroundEnding, TrianglesDrawMode, TriangleStripDrawMode, TriangleFanDrawMode, LinearEncoding, sRGBEncoding, GammaEncoding, RGBEEncoding, LogLuvEncoding, RGBM7Encoding, RGBM16Encoding, RGBDEncoding, BasicDepthPacking, RGBADepthPacking, BoxGeometry as CubeGeometry, Face4, LineStrip, LinePieces, MeshFaceMaterial, MultiMaterial, PointCloud, Particle, ParticleSystem, PointCloudMaterial, ParticleBasicMaterial, ParticleSystemMaterial, Vertex, DynamicBufferAttribute, Int8Attribute, Uint8Attribute, Uint8ClampedAttribute, Int16Attribute, Uint16Attribute, Int32Attribute, Uint32Attribute, Float32Attribute, Float64Attribute, ClosedSplineCurve3, SplineCurve3, Spline, AxisHelper, BoundingBoxHelper, EdgesHelper, WireframeHelper, XHRLoader, BinaryTextureLoader, GeometryUtils, ImageUtils, Projector, CanvasRenderer };\n\n\n\n// WEBPACK FOOTER //\n// ./~/three/build/three.module.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js"],"sourceRoot":""}